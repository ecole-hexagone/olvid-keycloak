(function(e){function t(t){for(var o,r,s=t[0],l=t[1],c=t[2],m=0,u=[];m<s.length;m++)r=s[m],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&u.push(i[r][0]),i[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);d&&d(t);while(u.length)u.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],o=!0,s=1;s<a.length;s++){var l=a[s];0!==i[l]&&(o=!1)}o&&(n.splice(t--,1),e=r(r.s=a[0]))}return e}var o={},i={app:0},n=[];function r(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=o,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(a,o,function(t){return e[t]}.bind(null,o));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"0421":function(e,t,a){e.exports=a.p+"img/olvid-logo.3d40c0df.png"},"084b":function(e,t,a){"use strict";a("b413")},"0db1":function(e,t,a){"use strict";a("3f98")},"1ab6":function(e,t,a){},"3f98":function(e,t,a){},4114:function(e,t,a){"use strict";a("d657")},4678:function(e,t,a){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf755","./tlh.js":"cf755","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=n(e);return a(t)}function n(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=n,e.exports=i,i.id="4678"},"47db":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t),a.d(t,"store",(function(){return Dt}));a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("e792"),a("0cdd");var o=a("2b0e"),i=a("5f5b");a("ab8b"),a("2dd8");o["default"].use(i["b"]);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[e.store.state.authentication?a("PageAuthenticationInProgress"):a("v-breakpoint",[a("TopBanner",{attrs:{id:"topbanner"}}),a("div",[a("LeftMenu",{attrs:{id:"navbar"}}),a("router-view",{key:e.$route.fullPath})],1)],1)],1)},r=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{class:e.updateLeftMenuAfterSaved,attrs:{id:"left-menu"}},[a("ul",[a("li",{class:e.className["/"],attrs:{id:"realmNavbar"},on:{click:function(t){return e.changeRoute(null,0)}}},[a("strong",[e._v(e._s(e.storeState.dictionary.titlePageRealms))])]),e.storeState.realmMainData.logsAndSettingsAccess?a("li",{staticClass:"fake"},[a("ul",[a("li",{directives:[{name:"show",rawName:"v-show",value:e.storeState.realmMainData.logsAndSettingsAccess,expression:"storeState.realmMainData.logsAndSettingsAccess"}],class:e.className["/realmsConfiguration"],on:{click:function(t){return e.changeRoute(null,7)}}},[e._v(e._s(e.storeState.dictionary.leftMenuSubtitle.realmsConfig))]),a("li",{class:e.className["/eventLogs"],on:{click:function(t){return e.changeRoute(null,8)}}},[e._v(e._s(e.storeState.dictionary.leftMenuSubtitle.eventLogs))])])]):e._e()]),e._l(e.storeState.realmMainData.realmMainAttributes,(function(t,o){return a("ul",{key:o},[t.admin?a("li",{class:e.className["/"+t.name+"/admin"],on:{click:function(a){return e.changeRoute(t.name,1)}}},[a("strong",[e._v(" "+e._s(t.name)+" "),a("font-awesome-icon",{staticStyle:{"font-size":"15px","margin-left":"5px"},attrs:{icon:"lock"}})],1)]):e._e()])})),e._l(e.storeState.realmMainData.realmMainAttributes,(function(t,o){return a("ul",{key:o},[t.olvid?a("li",{class:e.className["/"+t.name+"/dashboard"],on:{click:function(a){return e.changeRoute(t.name,2)}}},[a("strong",[e._v(e._s(t.name))])]):e._e(),t.olvid?a("li",{staticClass:"fake"},[a("ul",[a("li",{class:e.className["/"+t.name+"/users"],on:{click:function(a){return e.changeRoute(t.name,3)}}},[e._v(e._s(e.storeState.dictionary.leftMenuSubtitle.users))]),a("li",{class:e.className["/"+t.name+"/revocation"],on:{click:function(a){return e.changeRoute(t.name,4)}}},[e._v(e._s(e.storeState.dictionary.leftMenuSubtitle.revocation))]),a("li",{class:e.className["/"+t.name+"/settings"],on:{click:function(a){return e.changeRoute(t.name,5)}}},[e._v(e._s(e.storeState.dictionary.leftMenuSubtitle.settings)+" ")]),a("li",{class:e.className["/"+t.name+"/groups"],on:{click:function(a){return e.changeRoute(t.name,6)}}},[e._v(e._s(e.storeState.dictionary.leftMenuSubtitle.groups)+" ")])])]):e._e()])}))],2)])},l=[],c=(a("ac1f"),a("466d"),a("8c4f")),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"eventLogs"}},[a("AlertBadRealmType"),a("PagePermissionDenied"),a("b-container",{directives:[{name:"show",rawName:"v-show",value:!e.storeState.badRealmType&&!e.storeState.permissionDenied,expression:"!storeState.badRealmType && !storeState.permissionDenied"}]},[a("spinner"),a("NavbarPageTitle",{attrs:{"bold-text":e.storeState.dictionary.titlePageEventLogs,"refresh-function":e.relaunchGetLogsRequest}}),a("br"),a("br"),a("b-form-datepicker",{staticClass:"mb-2",model:{value:e.selectedDate,callback:function(t){e.selectedDate=t},expression:"selectedDate"}}),a("br"),a("b-table",{attrs:{small:"",fields:e.logFields,items:e.localStore.logItems,responsive:"lg"},scopedSlots:e._u([{key:"cell(timestamp)",fn:function(t){return[a("span",{staticClass:"timestampCells"},[e._v(e._s(t.item.timestamp))])]}},{key:"head(parameter)",fn:function(t){return[a("div",{staticClass:"parameterHead"},[e._v(e._s(t.label))])]}},{key:"cell(parameter)",fn:function(t){return[a("span",{ref:"parameter"+t.item.id,staticClass:"parameterCells",attrs:{id:"parameter"+t.item.id},on:{click:function(a){return e.setParameterClass("parameter"+t.item.id)}}},[e._v(e._s(t.item.parameter))])]}}])})],1)],1)},m=[],u=a("53ca"),h=(a("1276"),a("a9e3"),a("d3b7"),a("e9c4"),{genericRequest:function(e){return new Promise((function(t,a){try{var o=new XMLHttpRequest;o.open("POST","/auth/realms/"+Dt.state.authenticationInfo.redirectRealm+"/olvid-rest/configuration"),o.onreadystatechange=function(){try{if(4===o.readyState){var e=JSON.parse(o.responseText);void 0!==e?2===e.error?(window.location.href="/auth/realms/"+Dt.state.authenticationInfo.redirectRealm+"/account/#/olvid-console",Dt.state.badRealmType=!1,Dt.state.permissionDenied=!1,a(e.error)):5===e.error?(Dt.state.badRealmType=!0,a(e.error)):void 0!==e.queryNotAllowed&&e.queryNotAllowed?(Dt.state.badRealmType=!1,Dt.state.permissionDenied=!0,a("query not allowed")):(Dt.state.badRealmType=!1,Dt.state.permissionDenied=!1,t(e)):a("Unparsable response")}}catch(i){a(i)}},o.onerror=function(e){a(e)},o.send(JSON.stringify(e))}catch(i){a(i)}}))},getRealmsConfigurationRequest:function(){return this.genericRequest({q:3})},getRealmsMainAttributesRequest:function(){return this.genericRequest({q:4})},setRealmsConfigurationRequest:function(e){return this.genericRequest({q:6,realmListSettings:JSON.parse(e)})},setAdminsRoleRequest:function(e,t){return this.genericRequest({q:7,realmId:e,roleList:t})},getAdminsListRequest:function(e){return this.genericRequest({q:8,realmId:e})},getUsersListRequest:function(e,t,a){var o=(a-1)*Dt.state.limit;return this.genericRequest({q:9,realmId:e,filters:t,limit:Dt.state.limit,offset:o})},getDashboardDataRequest:function(e){return this.genericRequest({q:10,realmId:e})},revokeOneUserRequest:function(e,t,a){return this.genericRequest({q:11,realmId:e,id:t,revocationType:a})},getRevocationsListRequest:function(e){return this.genericRequest({q:12,realmId:e})},signOutUserRequest:function(e,t){return this.genericRequest({q:13,realmId:e,id:t})},wipeUserDataOnOlvidRevocationDatabaseRequest:function(e,t){return this.genericRequest({q:14,realmId:e,revocationId:t})},getLogsRequest:function(e,t){return this.genericRequest({q:15,fromTimestamp:e,toTimestamp:t})},createAdminUser:function(e){return this.genericRequest({q:16,adminUser:JSON.parse(e)})},removeAdmins:function(e){return this.genericRequest({q:17,adminIdList:JSON.parse(e)})},sendPasswordEmail:function(e,t){return this.genericRequest({q:18,password:e,username:t})},authenticationVerification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"master";return new Promise((function(t,a){try{var o=new XMLHttpRequest;o.open("POST","/auth/realms/"+e+"/olvid-rest/authenticationDiscovery"),o.onreadystatechange=function(){try{if(4===o.readyState){var e=JSON.parse(o.responseText);void 0===e&&a(Dt.state.dictionary.rejectMessageAuthentificationVerification),t(e)}}catch(i){a(i)}},o.onerror=function(e){a(e)},o.send(JSON.stringify({q:1}))}catch(i){a(i)}}))},signOut:function(){return new Promise((function(e,t){try{var a=new XMLHttpRequest;a.open("POST","/auth/realms/"+Dt.state.authenticationInfo.redirectRealm+"/olvid-rest/authenticationDiscovery"),a.onreadystatechange=function(){if(4===a.readyState)try{var o=JSON.parse(a.responseText);void 0===o&&t(Dt.state.dictionary.rejectMessageAuthentificationVerification),"master"===Dt.state.authenticationInfo.redirectRealm?window.location.href="/auth/admin/"+Dt.state.authenticationInfo.redirectRealm+"/console/":window.location.href="/auth/realms/"+Dt.state.authenticationInfo.redirectRealm+"/account/#/olvid-console",e(o)}catch(i){t(i)}},a.onerror=function(e){t(e)},a.send(JSON.stringify({q:2}))}catch(o){t(o)}}))}}),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center",attrs:{id:"spinner"}},[a("b-spinner",{directives:[{name:"show",rawName:"v-show",value:e.storeState.loading,expression:"storeState.loading"}],staticStyle:{width:"3rem",height:"3rem"},attrs:{variant:"primary",label:"Spinning"}})],1)},v=[],p={name:"Spinner",data:function(){return{storeState:Dt.state}}},b=p,g=(a("7502"),a("2877")),y=Object(g["a"])(b,f,v,!1,null,"75300195",null),S=y.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-navbar",{staticClass:"navbarpagetitle",attrs:{fixed:"top"}},[a("b-navbar-brand",{attrs:{href:"#"}},[a("span",{attrs:{id:"navbarpagetitleboldtext"}},[e._v(e._s(e.boldText))]),a("span",{attrs:{id:"navbarpagetitletext"}},[e._v(e._s(e.text))]),a("font-awesome-icon",{attrs:{id:"refreshicon",icon:"sync"},on:{click:e.refreshFunction}})],1),a("b-navbar-nav",{directives:[{name:"show",rawName:"v-show",value:e.saveButtonAttendance,expression:"saveButtonAttendance"}],staticClass:"ml-auto"},[a("b-button",{attrs:{id:"saveButton",size:"sm",disabled:e.noChange,variant:"success"},on:{click:e.saveFunction}},[e._v(e._s(e.storeState.dictionary.buttonLabelSave))])],1)],1)],1)},k=[],C={name:"NavbarPageTitle",props:{boldText:String,text:String,saveButtonAttendance:Boolean,noChange:Boolean,saveFunction:Function,refreshFunction:Function},data:function(){return{storeState:Dt.state}}},I=C,_=Object(g["a"])(I,w,k,!1,null,"cb921ee8",null),R=_.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.storeState.permissionDenied,expression:"storeState.permissionDenied"}],attrs:{id:"permissiondenied"}},[a("b-alert",{attrs:{show:"",variant:"danger"}},[e._v(" "+e._s(e.storeState.dictionary.errorPermissionDenied)+" ")])],1)},x=[],T={name:"PagePermissionDenied",data:function(){return{storeState:Dt.state}}},M=T,O=Object(g["a"])(M,A,x,!1,null,"5dd05cc2",null),D=O.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.storeState.badRealmType,expression:"storeState.badRealmType"}]},[a("b-alert",{attrs:{variant:"danger",show:""}},[e._v(" "+e._s(e.storeState.dictionary.errorMessageBadRealmType)+" ")])],1)},L=[],P={name:"AlertBadRealmType",data:function(){return{storeState:Dt.state}}},N=P,U=Object(g["a"])(N,j,L,!1,null,"20b974eb",null),q=U.exports,B={logItems:[],fromTimestamp:0,toTimestamp:0,parameterCells:"",toggle:!1},E={name:"PageEventLogs",components:{Spinner:S,NavbarPageTitle:R,PagePermissionDenied:D,AlertBadRealmType:q},data:function(){return{logFields:[{key:"adminUsername",label:Dt.state.dictionary.logTableHeader.adminUsername},{key:"timestamp",label:Dt.state.dictionary.logTableHeader.timestamp},{key:"logType",label:Dt.state.dictionary.logTableHeader.logType},{key:"parameter",label:Dt.state.dictionary.logTableHeader.parameter},{key:"ipSource",label:Dt.state.dictionary.logTableHeader.ipSource}],localStore:B,selectedDate:"",storeState:Dt.state}},methods:{setParameterClass:function(e){this.$refs[e].classList.toggle("parameterCells"),this.$refs[e].classList.toggle("styleCells")},launchGetLogsRequest:function(e,t){var a=this;Dt.state.loading=!0,h.getLogsRequest(e,t).then((function(e){void 0!==Object(u["a"])(e.queryNotAllowed)&&e.queryNotAllowed||a.manageRequestResult(e),Dt.state.loading=!1})).catch((function(e){console.log(e),Dt.state.loading=!1}))},manageRequestResult:function(e){this.localStore.logItems=e.consoleLogs;for(var t=0;t<this.localStore.logItems.length;t++){var a=new Date(this.localStore.logItems[t].timestamp);this.localStore.logItems[t].timestamp=a.toLocaleString()}}},watch:{selectedDate:function(){var e=this.selectedDate.split("-"),t=new Date(Number(e[0]),Number(e[1])-1,Number(e[2]));t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),this.localStore.fromTimestamp=t.getTime(),t.setTime(t.getTime()+1296e5),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),this.localStore.toTimestamp=t.getTime(),this.launchGetLogsRequest(this.localStore.fromTimestamp,this.localStore.toTimestamp)}},beforeMount:function(){var e=new Date;this.selectedDate=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),this.localStore.fromTimestamp=e.getTime(),e.setTime(e.getTime()+1296e5),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),this.localStore.toTimestamp=e.getTime(),this.launchGetLogsRequest(this.localStore.fromTimestamp,this.localStore.toTimestamp)}},K=E,z=(a("f8a5"),Object(g["a"])(K,d,m,!1,null,"94d802b2",null)),F=z.exports,$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"realmlist"}},[a("AlertBadRealmType"),a("PagePermissionDenied"),a("Spinner"),a("b-container",{directives:[{name:"show",rawName:"v-show",value:!e.storeState.badRealmType&&!e.storeState.permissionDenied,expression:"!storeState.badRealmType && !storeState.permissionDenied"}]},[a("NavbarPageTitle",{attrs:{"bold-text":e.storeState.dictionary.leftMenuSubtitle.realmsConfig,"no-change":e.noChangesHaveBeenDone,"save-button-attendance":!0,"save-function":e.verificationBeforeSave,"refresh-function":e.launchGetRealmsConfigurationRequest}}),a("br"),a("b-container",{staticClass:"bv-example-row",attrs:{id:"realms"}},[a("div",{staticClass:"centered"},[a("span",{attrs:{id:"enablePrometheusMetrics"}},[a("b-form-checkbox",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:{title:e.storeState.dictionary.tooltipEnablePrometheusMetrics},expression:"{title:storeState.dictionary.tooltipEnablePrometheusMetrics}",modifiers:{hover:!0,bottom:!0}}],attrs:{switch:""},model:{value:e.localStore.enablePrometheusMetrics,callback:function(t){e.$set(e.localStore,"enablePrometheusMetrics",t)},expression:"localStore.enablePrometheusMetrics"}},[e._v(e._s(e.storeState.dictionary.checkboxEnablePrometheusMetrics.part1)+" "),a("a",{attrs:{href:e.localStore.baseUrl+"/auth/realms/master/olvid-rest/olvidMetrics",target:"_blank"}},[e._v(e._s(e.localStore.baseUrl)+"/auth/realms/master/olvid-rest/olvidMetrics")]),e._v(e._s(e.storeState.dictionary.checkboxEnablePrometheusMetrics.part2)),a("font-awesome-icon",{staticClass:"rightquestioncircleicon",attrs:{icon:"question-circle"}})],1)],1)]),e._l(e.localStore.initialRealmConfig,(function(t){return a("div",{key:t.name,attrs:{id:"realminfo"}},[a("br"),a("br"),a("b-row",[a("b-col",[a("strong",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",value:{title:e.storeState.dictionary.tooltipRealmItems.realmAdminOrOlvid},expression:"{title:storeState.dictionary.tooltipRealmItems.realmAdminOrOlvid }",modifiers:{hover:!0,right:!0}}],attrs:{id:"realmname"}},[e._v(" "+e._s(t.name)),a("font-awesome-icon",{staticClass:"rightquestioncircleicon",attrs:{icon:"question-circle"}})],1)])],1),a("b-row",{directives:[{name:"show",rawName:"v-show",value:e.isInformationMissing,expression:"isInformationMissing"}],staticClass:"informationmissing"},[e._v(" "+e._s(e.informationMissing[t.name])+" ")]),a("b-row",{attrs:{id:"realmsettings"}},[a("b-col",{staticClass:"admincol",attrs:{id:"col"+e.localStore.realmsInfo[t.name].admin,cols:"4"}},[a("b-form-checkbox",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-light",value:{title:e.storeState.dictionary.tooltipCannotModifyRealmAdmin,disabled:"master"===e.storeState.authenticationInfo.realm},expression:"{\n                        title:storeState.dictionary.tooltipCannotModifyRealmAdmin,\n                        disabled:storeState.authenticationInfo.realm === 'master'}",modifiers:{hover:!0,"v-light":!0}}],staticClass:"m-md-2",attrs:{name:"checkbox-admin",disabled:"master"!==e.storeState.authenticationInfo.realm},on:{change:function(a){return e.verificationAfterAdminHasBeenChecked(t.name)}},model:{value:e.localStore.realmsInfo[t.name].admin,callback:function(a){e.$set(e.localStore.realmsInfo[t.name],"admin",a)},expression:"localStore.realmsInfo[realm.name].admin"}},[e._v(" "+e._s(e.storeState.dictionary.typeRealms.admin)+" "),a("font-awesome-icon",{staticStyle:{"font-size":"10px"},attrs:{icon:"lock"}})],1)],1),a("b-col",{staticClass:"olvidcol",attrs:{id:"col"+e.localStore.realmsInfo[t.name].olvid,cols:"8"}},[a("b-row",{attrs:{cols:"1","cols-sm":"1","cols-md":"2","cols-lg":"3"}},[a("b-col",[a("b-form-checkbox",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-light",value:{title:!Object.keys(t.clientsInfo).length>0?e.storeState.dictionary.tooltipNoClienthasBeenFound:e.storeState.dictionary.tooltipCannotModifyRealmAdmin,disabled:Object.keys(t.clientsInfo).length>0&&e.storeState.authenticationInfo.realm!==t.name},expression:"{\n                        title:(!Object.keys(realm.clientsInfo).length > 0) ? storeState.dictionary.tooltipNoClienthasBeenFound : storeState.dictionary.tooltipCannotModifyRealmAdmin,\n                        disabled:Object.keys(realm.clientsInfo).length > 0 && storeState.authenticationInfo.realm !== realm.name}",modifiers:{hover:!0,"v-light":!0}}],staticClass:"m-md-2",attrs:{disabled:!(Object.keys(t.clientsInfo).length>0)||e.storeState.authenticationInfo.realm===t.name,name:"checkbox-olvid"},on:{change:function(a){return e.verificationAfterOlvidHasBeenChecked(t.name)}},model:{value:e.localStore.realmsInfo[t.name].olvid,callback:function(a){e.$set(e.localStore.realmsInfo[t.name],"olvid",a)},expression:"localStore.realmsInfo[realm.name].olvid"}},[e._v(" "+e._s(e.storeState.dictionary.typeRealms.olvid)+" ")])],1),a("b-col",[Object.keys(t.clientsInfo).length>0?a("b-dropdown",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-light",value:{title:e.storeState.dictionary.tooltipCheckOlvid,disabled:e.localStore.realmsInfo[t.name].olvid},expression:"{\n                        title:storeState.dictionary.tooltipCheckOlvid,\n                        disabled:localStore.realmsInfo[realm.name].olvid}",modifiers:{hover:!0,"v-light":!0}}],key:t.name,staticClass:"m-md-2",attrs:{disabled:!e.localStore.realmsInfo[t.name].olvid,right:"",text:null==e.localStore.realmsInfo[t.name].olvidClient?e.storeState.dictionary.dropdownLabelSetClient:e.localStore.realmsInfo[t.name].olvidClient,variant:null==e.localStore.realmsInfo[t.name].olvidClient?"":"primary",size:"sm"}},[a("b-dropdown-header",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",value:{title:e.storeState.dictionary.tooltipRealmItems.selectAClient},expression:"{title:storeState.dictionary.tooltipRealmItems.selectAClient }",modifiers:{hover:!0,right:!0}}]},[e._v(" "+e._s(e.storeState.dictionary.dropdownHeaderSetClient)+" "),a("font-awesome-icon",{staticClass:"rightquestioncircleicon",attrs:{icon:"question-circle"}})],1),e._l(Object.keys(e.localStore.realmsInfo[t.name].clientsInfo),(function(o,i){return a("span",{key:i},[a("b-dropdown-divider"),a("b-dropdown-item",{on:{click:function(a){return e.updateClientsInfoDropdownLabelText(t.name,o)}}},[e._v(" "+e._s(o)+" "),a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:o===e.localStore.realmsInfo[t.name].olvidClient,expression:"client===localStore.realmsInfo[realm.name].olvidClient"}],staticClass:"checkicon",staticStyle:{"margin-left":"10px"},attrs:{icon:"check"}})],1)],1)}))],2):a("b-dropdown",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-light",value:{title:e.storeState.dictionary.tooltipCheckOlvid},expression:"{title:storeState.dictionary.tooltipCheckOlvid}",modifiers:{hover:!0,"v-light":!0}}],key:t.name,staticClass:"m-md-2",attrs:{right:"",text:e.storeState.dictionary.dropdownLabelSetClientButNoClient,disabled:!0,size:"sm"}})],1),a("b-col",[a("div",[a("b-dropdown",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-light",value:{title:e.storeState.dictionary.tooltipCheckOlvid,disabled:e.localStore.realmsInfo[t.name].olvid},expression:"{\n                        title:storeState.dictionary.tooltipCheckOlvid,\n                        disabled:localStore.realmsInfo[realm.name].olvid}",modifiers:{hover:!0,"v-light":!0}}],staticClass:"m-md-2",attrs:{disabled:!e.localStore.realmsInfo[t.name].olvid,size:"sm",variant:"undefined"===typeof e.localStore.realmsInfo[t.name].keyChoosen?"":"primary",right:"",text:"undefined"===typeof e.localStore.realmsInfo[t.name].keyChoosen?e.storeState.dictionary.dropdownLabelSetKey:e.localStore.realmsInfo[t.name].keyId[e.localStore.realmsInfo[t.name].keyChoosen].keyAlgorithm+" ("+e.localStore.realmsInfo[t.name].keyChoosen.substring(0,4)+"…)"}},[a("b-dropdown-header",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",value:{title:e.storeState.dictionary.tooltipRealmItems.selectAKey},expression:"{title:storeState.dictionary.tooltipRealmItems.selectAKey }",modifiers:{hover:!0,right:!0}}]},[e._v(" "+e._s(e.storeState.dictionary.dropdownHeaderSetKey)+" "),a("font-awesome-icon",{staticClass:"rightquestioncircleicon",attrs:{icon:"question-circle"}})],1),e._l(e.localStore.realmsInfo[t.name].keyId,(function(o,i){return a("span",{key:i},[a("b-dropdown-divider"),a("b-dropdown-item",{on:{click:function(a){return e.updateKeyIdDropdownLabelText(t.name,i)}}},[a("strong",[e._v(e._s(e.storeState.dictionary.dropdownItemSetKey.algorithm))]),e._v(e._s(o.keyAlgorithm)+" "),a("strong",{staticStyle:{"margin-left":"20px"}},[e._v(e._s(e.storeState.dictionary.dropdownItemSetKey.type))]),e._v(e._s(o.keyType)+" "),a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:i===e.localStore.realmsInfo[t.name].keyChoosen,expression:"index===localStore.realmsInfo[realm.name].keyChoosen"}],staticClass:"checkicon",staticStyle:{"margin-left":"25px"},attrs:{icon:"check"}}),a("br"),a("strong",[e._v(e._s(e.storeState.dictionary.dropdownItemSetKey.id))]),a("span",{staticStyle:{"font-size":"10px"}},[e._v(e._s(i))])],1)],1)}))],2)],1)])],1),a("b-row",{staticStyle:{"text-align":"justify"}},[a("b-col",{directives:[{name:"show",rawName:"v-show",value:e.localStore.realmsInfo[t.name].olvid,expression:"localStore.realmsInfo[realm.name].olvid"}],staticClass:"bcolRealm"},[a("div",[a("b-form",{staticClass:"m-md-2"},[a("b-form-group",{attrs:{"label-for":"inputOlvidServerUrl"}},[e._t("label",(function(){return[a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",value:{title:e.storeState.dictionary.tooltipRealmItems.inputOlvidServerUrl},expression:"{title:storeState.dictionary.tooltipRealmItems.inputOlvidServerUrl }",modifiers:{hover:!0,right:!0}}]},[e._v(" "+e._s(e.storeState.dictionary.labelInputOlvidServerUrl)+" "),a("font-awesome-icon",{staticClass:"rightquestioncircleicon",attrs:{icon:"question-circle"}})],1)]})),a("b-form-input",{attrs:{type:"text",placeholder:e.storeState.dictionary.placeholderInputUrl},on:{update:function(a){return e.verificationAfterFormInputHasBeenChanged(t.name)}},model:{value:e.localStore.realmsInfo[t.name].olvidServerUrl,callback:function(a){e.$set(e.localStore.realmsInfo[t.name],"olvidServerUrl",a)},expression:"localStore.realmsInfo[realm.name].olvidServerUrl"}})],2),a("b-form-group",{attrs:{"label-for":"inputServerUrl"}},[e._t("label",(function(){return[a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",value:{title:e.storeState.dictionary.tooltipRealmItems.inputServerUrl},expression:"{title:storeState.dictionary.tooltipRealmItems.inputServerUrl }",modifiers:{hover:!0,right:!0}}]},[e._v(" "+e._s(e.storeState.dictionary.labelInputServerUrl)+" "),a("font-awesome-icon",{staticClass:"rightquestioncircleicon",attrs:{icon:"question-circle"}})],1)]})),a("b-form-input",{attrs:{placeholder:e.storeState.dictionary.placeholderInputUrl},on:{update:function(a){return e.verificationAfterFormInputHasBeenChanged(t.name)}},model:{value:e.localStore.realmsInfo[t.name].keycloakServerUrl,callback:function(a){e.$set(e.localStore.realmsInfo[t.name],"keycloakServerUrl",a)},expression:"localStore.realmsInfo[realm.name].keycloakServerUrl"}})],2),a("b-form-group",{attrs:{"label-for":"inputKeycloakApiKey"}},[e._t("label",(function(){return[a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",value:{title:e.storeState.dictionary.tooltipRealmItems.inputApiKey},expression:"{title:storeState.dictionary.tooltipRealmItems.inputApiKey }",modifiers:{hover:!0,right:!0}}]},[e._v(" "+e._s(e.storeState.dictionary.labelInputApiKey)+" "),a("font-awesome-icon",{staticClass:"rightquestioncircleicon",attrs:{icon:"question-circle"}})],1)]})),a("b-form-input",{attrs:{placeholder:e.storeState.dictionary.placeholderInputApiKey},on:{update:function(a){return e.verificationAfterFormInputHasBeenChanged(t.name)}},model:{value:e.localStore.realmsInfo[t.name].keycloakApiKey,callback:function(a){e.$set(e.localStore.realmsInfo[t.name],"keycloakApiKey",a)},expression:"localStore.realmsInfo[realm.name].keycloakApiKey"}})],2),a("input",{attrs:{type:"checkbox",id:"revocation"+t.name,name:"revocationAllowed"},domProps:{checked:e.localStore.realmsInfo[t.name].revocationAllowed},on:{change:function(a){return e.setRevocationAllowedValue("revocation"+t.name,t.name)}}}),a("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",value:{title:e.storeState.dictionary.tooltipRealmItems.revocationAllowed},expression:"{title:storeState.dictionary.tooltipRealmItems.revocationAllowed }",modifiers:{hover:!0,right:!0}}],staticClass:"revocationAllowedLabel",attrs:{for:"revocation"+t.name}},[e._v(" "+e._s(e.storeState.dictionary.checkboxRevocationAllowed)+" "),a("font-awesome-icon",{staticClass:"rightquestioncircleicon",attrs:{icon:"question-circle"}})],1)],1)],1)])],1)],1)],1)],1)}))],2),a("b-modal",{ref:"saveConfirmationModal",attrs:{scrollable:"",title:e.storeState.dictionary.titleModalAreYouSure,"ok-title":e.storeState.dictionary.buttonLabelSave,"ok-variant":"success"},on:{ok:e.launchSaveRequest}},[a("p",{staticClass:"my-4"},[e._v(e._s(e.storeState.dictionary.paragraphModalChangesHaveBeenDone.text))]),a("strong",[e._v(e._s(e.storeState.dictionary.paragraphModalChangesHaveBeenDone.titleList))]),a("br"),a("br"),"undefined"!==typeof e.changes["enablePrometheusMetrics"]&&e.changes["enablePrometheusMetrics"].length>0?a("span",[a("b-table",{staticStyle:{"text-align":"center"},attrs:{items:e.changes["enablePrometheusMetrics"],fields:e.fields,striped:"",hover:"","caption-top":"",small:"",responsive:""}})],1):e._e(),e._l(e.localStore.initialRealmConfig,(function(t){return a("span",{key:t},["undefined"!==typeof e.changes[t.name]&&e.changes[t.name].length>0?a("b-table",{staticStyle:{"text-align":"center"},attrs:{items:e.changes[t.name],fields:e.fields,striped:"",hover:"","caption-top":"",small:"",responsive:""},scopedSlots:e._u([{key:"table-caption",fn:function(){return[e._v(e._s(t.name))]},proxy:!0}],null,!0)}):e._e(),"undefined"!==typeof e.changes[t.name]&&e.changes[t.name].length>0?a("br"):e._e()],1)})),a("br")],2)],1)],1)},H=[],W=(a("b64b"),a("498a"),{realmsInfo:{},enablePrometheusMetrics:!1,baseUrl:location.protocol+"//"+location.host,initialRealmConfig:{}}),V={name:"PageRealmsConfiguration",components:{Spinner:S,NavbarPageTitle:R,AlertBadRealmType:q,PagePermissionDenied:D},data:function(){return{storeState:Dt.state,localStore:W,isInformationMissing:!1,informationMissing:{},changes:{},fields:[{key:"item",label:Dt.state.dictionary.realmSaveManagement.changes.item,thStyle:{width:"33%"}},{key:"before",label:Dt.state.dictionary.realmSaveManagement.changes.before,thStyle:{width:"33%"}},{key:"after",label:Dt.state.dictionary.realmSaveManagement.changes.after,thStyle:{width:"33%"}}]}},methods:{makeToast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;this.$bvToast.toast(a,{title:o,variant:e,toaster:"b-toaster-top-center",autoHideDelay:t,solid:!0})},verificationBeforeSave:function(){this.isInformationMissing=!1,this.informationMissing=[];for(var e,t=!1,a=!1,o=Object.keys(this.localStore.realmsInfo),i=0,n=o;i<n.length;i++){var r=n[i];this.localStore.realmsInfo[r].olvid&&"undefined"===typeof this.localStore.realmsInfo[r].keyChoosen&&"undefined"===typeof this.localStore.realmsInfo[r].olvidClient?(t=!0,a=!0,this.informationMissing[r]=Dt.state.dictionary.realmSaveManagement.informationMissing.both):this.localStore.realmsInfo[r].olvid&&"undefined"===typeof this.localStore.realmsInfo[r].olvidClient?(t=!0,this.informationMissing[r]=Dt.state.dictionary.realmSaveManagement.informationMissing.client):this.localStore.realmsInfo[r].olvid&&"undefined"===typeof this.localStore.realmsInfo[r].keyChoosen&&(a=!0,this.informationMissing[r]=Dt.state.dictionary.realmSaveManagement.informationMissing.key)}if(!t&&!a)return this.isInformationMissing=!1,this.computeWhatWasChanged(),void this.showModal();this.isInformationMissing=!0,e=t&&a?Dt.state.dictionary.toastSaveWarningIncomplete.text.part1+Dt.state.dictionary.realmSaveManagement.informationMissing.modal.both+Dt.state.dictionary.toastSaveWarningIncomplete.text.part2:t?Dt.state.dictionary.toastSaveWarningIncomplete.text.part1+Dt.state.dictionary.realmSaveManagement.informationMissing.modal.client+Dt.state.dictionary.toastSaveWarningIncomplete.text.part2:Dt.state.dictionary.toastSaveWarningIncomplete.text.part1+Dt.state.dictionary.realmSaveManagement.informationMissing.modal.key+Dt.state.dictionary.toastSaveWarningIncomplete.text.part2;var s=Dt.state.dictionary.toastSaveWarningIncomplete.title;this.makeToast("warning",7e3,e,s)},showModal:function(){this.$refs["saveConfirmationModal"].show()},hideModal:function(){this.$refs["saveConfirmationModal"].hide()},removeEmptyStringInObject:function(){for(var e=Object.keys(this.localStore.realmsInfo),t=0;t<e.length;t++)"undefined"!==typeof this.localStore.realmsInfo[e[t]].olvidServerUrl&&0===this.localStore.realmsInfo[e[t]].olvidServerUrl.trim().length&&delete this.localStore.realmsInfo[e[t]].olvidServerUrl,"undefined"!==typeof this.localStore.realmsInfo[e[t]].keycloakServerUrl&&0===this.localStore.realmsInfo[e[t]].keycloakServerUrl.trim().length&&delete this.localStore.realmsInfo[e[t]].keycloakServerUrl,"undefined"!==typeof this.localStore.realmsInfo[e[t]].keycloakApiKey&&0===this.localStore.realmsInfo[e[t]].keycloakApiKey.trim().length&&delete this.localStore.realmsInfo[e[t]].keycloakApiKey},computeWhatWasChanged:function(){var e=Object.keys(W.initialRealmConfig);if(o["default"].set(this.changes,"enablePrometheusMetrics",[]),Dt.state.enablePrometheusMetrics!==this.localStore.enablePrometheusMetrics){var t={item:"",before:"",after:""};t.item=Dt.state.dictionary.realmSaveManagement.changes.itemsLabel.enablePrometheusMetrics,t.before=Dt.state.enablePrometheusMetrics,t.after=this.localStore.enablePrometheusMetrics,this.changes["enablePrometheusMetrics"].push(t)}for(var a=0;a<e.length;a++){if(o["default"].set(this.changes,e[a],[]),W.initialRealmConfig[e[a]].admin){if(!this.localStore.realmsInfo[e[a]].admin)if(this.localStore.realmsInfo[e[a]].olvid){var i={item:"",before:"",after:""};i.item=Dt.state.dictionary.realmSaveManagement.changes.itemsLabel.realmStatus,i.before=Dt.state.dictionary.realmSaveManagement.changes.itemsValue.realmStatusAdmin,i.after=Dt.state.dictionary.realmSaveManagement.changes.itemsValue.realmStatusOlvid,this.changes[e[a]].push(i)}else{var n={item:"",before:"",after:""};n.item=Dt.state.dictionary.realmSaveManagement.changes.itemsLabel.realmStatus,n.before=Dt.state.dictionary.realmSaveManagement.changes.itemsValue.realmStatusAdmin,n.after=Dt.state.dictionary.realmSaveManagement.changes.itemsValue.realmStatusNoStatus,this.changes[e[a]].push(n)}}else if(W.initialRealmConfig[e[a]].olvid){if(!this.localStore.realmsInfo[e[a]].olvid)if(this.localStore.realmsInfo[e[a]].admin){var r={item:"",before:"",after:""};r.item=Dt.state.dictionary.realmSaveManagement.changes.itemsLabel.realmStatus,r.before=Dt.state.dictionary.realmSaveManagement.changes.itemsValue.realmStatusOlvid,r.after=Dt.state.dictionary.realmSaveManagement.changes.itemsValue.realmStatusAdmin,this.changes[e[a]].push(r)}else{var s={item:"",before:"",after:""};s.item=Dt.state.dictionary.realmSaveManagement.changes.itemsLabel.realmStatus,s.before=Dt.state.dictionary.realmSaveManagement.changes.itemsValue.realmStatusOlvid,s.after=Dt.state.dictionary.realmSaveManagement.changes.itemsValue.realmStatusNoStatus,this.changes[e[a]].push(s)}}else if(this.localStore.realmsInfo[e[a]].admin){var l={item:"",before:"",after:""};l.item=Dt.state.dictionary.realmSaveManagement.changes.itemsLabel.realmStatus,l.before=Dt.state.dictionary.realmSaveManagement.changes.itemsValue.realmStatusNoStatus,l.after=Dt.state.dictionary.realmSaveManagement.changes.itemsValue.realmStatusAdmin,this.changes[e[a]].push(l)}else if(this.localStore.realmsInfo[e[a]].olvid){var c={item:"",before:"",after:""};c.item=Dt.state.dictionary.realmSaveManagement.changes.itemsLabel.realmStatus,c.before=Dt.state.dictionary.realmSaveManagement.changes.itemsValue.realmStatusNoStatus,c.after=Dt.state.dictionary.realmSaveManagement.changes.itemsValue.realmStatusOlvid,this.changes[e[a]].push(c)}if(W.initialRealmConfig[e[a]].revocationAllowed!==this.localStore.realmsInfo[e[a]].revocationAllowed){var d={item:"",before:"",after:""};d.item=Dt.state.dictionary.realmSaveManagement.changes.itemsLabel.revocationAllowed,d.before=W.initialRealmConfig[e[a]].revocationAllowed,d.after=this.localStore.realmsInfo[e[a]].revocationAllowed,this.changes[e[a]].push(d)}if(W.initialRealmConfig[e[a]].olvidClient!==this.localStore.realmsInfo[e[a]].olvidClient){var m={item:"",before:"",after:""};m.item=Dt.state.dictionary.realmSaveManagement.changes.itemsLabel.olvidClient,"undefined"===typeof W.initialRealmConfig[e[a]].olvidClient?m.before=Dt.state.dictionary.realmSaveManagement.changes.itemsValue.olvidClientNoClient:m.before=W.initialRealmConfig[e[a]].olvidClient,m.after=this.localStore.realmsInfo[e[a]].olvidClient,this.changes[e[a]].push(m)}if(W.initialRealmConfig[e[a]].keyChoosen!==this.localStore.realmsInfo[e[a]].keyChoosen){var u={item:"",before:"",after:""};u.item=Dt.state.dictionary.realmSaveManagement.changes.itemsLabel.keySelected,"undefined"===typeof W.initialRealmConfig[e[a]].keyChoosen?u.before=Dt.state.dictionary.realmSaveManagement.changes.itemsValue.keySelectedNoKey:u.before=W.initialRealmConfig[e[a]].keyChoosen.substring(0,10)+"…",u.after=this.localStore.realmsInfo[e[a]].keyChoosen.substring(0,10)+"…",this.changes[e[a]].push(u)}if(W.initialRealmConfig[e[a]].olvidServerUrl!==this.localStore.realmsInfo[e[a]].olvidServerUrl){var h={item:"",before:"",after:""};h.item=Dt.state.dictionary.realmSaveManagement.changes.itemsLabel.olvidMessageDistributionServer,h.before=W.initialRealmConfig[e[a]].olvidServerUrl,h.after=this.localStore.realmsInfo[e[a]].olvidServerUrl,this.changes[e[a]].push(h)}if(W.initialRealmConfig[e[a]].keycloakServerUrl!==this.localStore.realmsInfo[e[a]].keycloakServerUrl){var f={item:"",before:"",after:""};f.item=Dt.state.dictionary.realmSaveManagement.changes.itemsLabel.publicKeycloakUrl,f.before=W.initialRealmConfig[e[a]].keycloakServerUrl,f.after=this.localStore.realmsInfo[e[a]].keycloakServerUrl,this.changes[e[a]].push(f)}if(W.initialRealmConfig[e[a]].keycloakApiKey!==this.localStore.realmsInfo[e[a]].keycloakApiKey){var v={item:"",before:"",after:""};v.item=Dt.state.dictionary.realmSaveManagement.changes.itemsLabel.keycloakApiKey,v.before=W.initialRealmConfig[e[a]].keycloakApiKey,v.after=this.localStore.realmsInfo[e[a]].keycloakApiKey,this.changes[e[a]].push(v)}}},updateClientsInfoDropdownLabelText:function(e,t){this.$set(W.realmsInfo[e],"olvidClient",t)},updateKeyIdDropdownLabelText:function(e,t){this.$set(W.realmsInfo[e],"keyChoosen",t)},setRevocationAllowedValue:function(e,t){document.getElementById(e).checked?this.localStore.realmsInfo[t].revocationAllowed=!0:this.localStore.realmsInfo[t].revocationAllowed=!1},verificationAfterAdminHasBeenChecked:function(e){this.localStore.realmsInfo[e].olvid&&(this.localStore.realmsInfo[e].olvid=!1);for(var t=Object.keys(W.initialRealmConfig),a=0;a<t.length;a++)this.localStore.realmsInfo[t[a]].admin&&t[a]!==e&&(this.localStore.realmsInfo[t[a]].admin=!1)},verificationAfterOlvidHasBeenChecked:function(e){!0===this.localStore.realmsInfo[e].admin&&(this.localStore.realmsInfo[e].admin=!1)},verificationAfterFormInputHasBeenChanged:function(e){"undefined"===typeof W.initialRealmConfig[e].olvidServerUrl&&""===this.localStore.realmsInfo[e].olvidServerUrl&&delete this.localStore.realmsInfo[e].olvidServerUrl,"undefined"===typeof W.initialRealmConfig[e].keycloakServerUrl&&""===this.localStore.realmsInfo[e].keycloakServerUrl&&delete this.localStore.realmsInfo[e].keycloakServerUrl,"undefined"===typeof W.initialRealmConfig[e].keycloakApiKey&&""===this.localStore.realmsInfo[e].keycloakApiKey&&delete this.localStore.realmsInfo[e].keycloakApiKey},initializationVerification:function(){for(var e=Object.keys(this.localStore.realmsInfo),t=0;t<e.length;t++){var a=!1,o=!1;if("undefined"!==typeof this.localStore.realmsInfo[e[t]].keyChoosen){for(var i=Object.keys(this.localStore.realmsInfo[e[t]].keyId),n=0;n<i.length;n++)this.localStore.realmsInfo[e[t]].keyChoosen===i[n]&&(a=!0);a||(delete W.initialRealmConfig[e[t]].keyChoosen,delete this.localStore.realmsInfo[e[t]].keyChoosen)}if("undefined"!==typeof this.localStore.realmsInfo[e[t]].olvidClient){for(var r=Object.keys(this.localStore.realmsInfo[e[t]].clientsInfo),s=0;s<r.length;s++)this.localStore.realmsInfo[e[t]].olvidClient===r[s]&&(o=!0);o||(delete W.initialRealmConfig[e[t]].olvidClient,delete this.localStore.realmsInfo[e[t]].olvidClient)}}},dataInitialization:function(){this.localStore.realmsInfo=JSON.parse(JSON.stringify(W.initialRealmConfig)),this.localStore.enablePrometheusMetrics=Dt.state.enablePrometheusMetrics,this.initializationVerification(),this.computeWhatWasChanged()},goBack:function(){window.history.length>1?this.$router.go(-1):this.$router.push("/")},manageRequestResult:function(e){W.initialRealmConfig=e.realmList,Dt.state.enablePrometheusMetrics=e.enablePrometheusMetrics,this.dataInitialization()},launchMainDataRequest:function(){h.getRealmsMainAttributesRequest().then((function(e){o["default"].set(Dt.state,"realmMainData",e)})).catch((function(e){console.log(e)}))},launchSaveRequest:function(){var e=this;this.removeEmptyStringInObject(),Dt.state.loading=!0,h.setRealmsConfigurationRequest(JSON.stringify({realmList:this.localStore.realmsInfo,enablePrometheusMetrics:this.localStore.enablePrometheusMetrics})).then((function(t){e.manageRequestResult(t),e.launchMainDataRequest(),Dt.state.loading=!1,e.makeToast("success",4e3,Dt.state.dictionary.toastSaveSuccess.text,Dt.state.dictionary.toastSaveSuccess.title)})).catch((function(t){console.log(t),Dt.state.loading=!1,e.makeToast("danger",4e3,Dt.state.dictionary.toastDanger.text,Dt.state.dictionary.toastDanger.title)}))},launchGetRealmsConfigurationRequest:function(){var e=this;Dt.state.loading=!0,h.getRealmsConfigurationRequest().then((function(t){void 0!==Object(u["a"])(t.queryNotAllowed)&&t.queryNotAllowed||(e.manageRequestResult(t),Dt.state.loading=!1)})).catch((function(e){console.log(e),Dt.state.loading=!1}))}},computed:{username:function(){return this.$route.params.username},noChangesHaveBeenDone:function(){return Dt.state.dontLeave=JSON.stringify(this.localStore.realmsInfo)!==JSON.stringify(W.initialRealmConfig)||this.localStore.enablePrometheusMetrics!==Dt.state.enablePrometheusMetrics,!Dt.state.dontLeave}},beforeMount:function(){this.launchGetRealmsConfigurationRequest()}},J=V,G=(a("6119"),Object(g["a"])(J,$,H,!1,null,"7dfe1e52",null)),Y=G.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"welcome"}},[a("br"),a("strong",[e._v(e._s(e.storeState.dictionary.welcomeText))])])},Q=[],Z={name:"PageWelcome",data:function(){return{storeState:Dt.state}}},ee=Z,te=(a("de0a"),Object(g["a"])(ee,X,Q,!1,null,"0abcd810",null)),ae=te.exports,oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"groupmanagement"}},[a("h4",[e._v(e._s(e.storeState.dictionary.titlePageGroupManagement))]),a("b-alert",{staticStyle:{"text-align":"center"},attrs:{show:""}},[e._v(e._s(e.storeState.dictionary.alertComingSoon))])],1)},ie=[],ne={name:"PageGroups",data:function(){return{storeState:Dt.state}},beforeMount:function(){}},re=ne,se=Object(g["a"])(re,oe,ie,!1,null,"5433c1f4",null),le=se.exports,ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"securitysettings"}},[a("h4",[e._v(" "+e._s(e.storeState.dictionary.titlePageSecuritySettings)+" ")]),a("b-alert",{staticStyle:{"text-align":"center"},attrs:{show:""}},[e._v(e._s(e.storeState.dictionary.alertComingSoon))])],1)},de=[],me={name:"PageSecuritySettings",data:function(){return{storeState:Dt.state}},beforeMount:function(){}},ue=me,he=Object(g["a"])(ue,ce,de,!1,null,"28802376",null),fe=he.exports,ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"revocationpage"}},[a("AlertBadRealmType"),a("PagePermissionDenied"),a("b-modal",{ref:"wipeModal",attrs:{scrollable:"",id:"wipeModal",title:e.storeState.dictionary.titleModalAreYouSure,"ok-variant":"primary","button-size":"sm","ok-title":e.storeState.dictionary.wipe},on:{ok:e.launchWipeDataRequest,cancel:function(t){return e.setRevocationIdToWipe("")}}},[a("p",{staticClass:"my-4"},[e._v(e._s(e.storeState.dictionary.paragraphModalwipeUserRevokedData))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.storeState.badRealmType&&!e.storeState.permissionDenied,expression:"!storeState.badRealmType && !storeState.permissionDenied"}]},[a("NavbarPageTitle",{attrs:{"bold-text":e.localStore.realmAsked,text:e.storeState.dictionary.titlePageRevocation,"save-button-attendance":!1,"refresh-function":e.launchGetRevocationLogsRequest}}),a("br"),a("br"),a("Spinner"),a("b-form-input",{attrs:{size:"sm",id:"filter",placeholder:e.storeState.dictionary.placeholderFilter},model:{value:e.idFilter,callback:function(t){e.idFilter=t},expression:"idFilter"}}),a("b-table",{staticClass:"text-center",attrs:{size:"sm","empty-text":e.storeState.dictionary.tableEmptyText,"show-empty":"",striped:"",hover:"",responsive:"",filter:e.idFilter,items:e.items,fields:e.fields},scopedSlots:e._u([{key:"head(deleteData)",fn:function(t){return[a("span",{directives:[{name:"show",rawName:"v-show",value:e.localStore.writeAllowed,expression:"localStore.writeAllowed"}]},[e._v(" "+e._s(t.label))])]}},{key:"cell(deleteData)",fn:function(t){return[a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e.localStore.writeAllowed&&t.item.username,expression:"localStore.writeAllowed && index.item.username"},{name:"b-modal",rawName:"v-b-modal.wipeModal",modifiers:{wipeModal:!0}}],attrs:{icon:"trash"},on:{click:function(a){return e.setRevocationIdToWipe(t.item.id)}}})]}},{key:"cell(timestamp)",fn:function(t){return[a("span",[e._v(e._s(new Date(t.item.timestamp).toLocaleString()))])]}}])})],1)],1)},pe=[],be=(a("07ac"),{revocation:[]}),ge={name:"PageRevocationLogs",components:{Spinner:S,AlertBadRealmType:q,NavbarPageTitle:R,PagePermissionDenied:D},data:function(){return{localStore:be,revocationIdToWipe:"",storeState:Dt.state,items:[],idFilter:"",fields:[{key:"revocationType",label:Dt.state.dictionary.fieldTable.revocationType,thClass:"align-middle",tdClass:"align-middle",sortable:!0},{key:"timestamp",label:Dt.state.dictionary.fieldTable.revocationTimestamp,thStyle:{width:"125px"},thClass:"align-middle",tdClass:"align-middle",sortable:!0},{key:"username",label:Dt.state.dictionary.fieldTable.username,thClass:"align-middle",tdClass:"align-middle",sortable:!0},{key:"firstname",label:Dt.state.dictionary.fieldTable.firstname,thClass:"align-middle",tdClass:"align-middle",sortable:!0},{key:"lastname",label:Dt.state.dictionary.fieldTable.lastname,thClass:"align-middle",tdClass:"align-middle",sortable:!0},{key:"mail",label:Dt.state.dictionary.fieldTable.email,thClass:"align-middle",tdClass:"align-middle",sortable:!0},{key:"position",label:Dt.state.dictionary.fieldTable.position,thClass:"align-middle",tdClass:"align-middle",sortable:!0},{key:"company",label:Dt.state.dictionary.fieldTable.company,thClass:"align-middle",tdClass:"align-middle",sortable:!0}]}},methods:{initializationTable:function(){this.items=Object.values(be.revocation),this.convertRevocationTypeIntoString();for(var e=Object.keys(this.items),t=0;t<e.length;t++)delete this.items[t].realmId,delete this.items[t].keycloakSignature,delete this.items[t].olvidId;be.writeAllowed&&this.fields.push({key:"deleteData",label:Dt.state.dictionary.fieldTable.wipeData,thStyle:{width:"50px"},thClass:"align-middle"})},convertRevocationTypeIntoString:function(){for(var e=0;e<this.items.length;e++)0===this.items[e].revocationType?this.items[e].revocationType=Dt.state.dictionary.revoke.revokeIdentityLabel:1===this.items[e].revocationType&&(this.items[e].revocationType=Dt.state.dictionary.revoke.removeUserLabel)},makeToast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;this.$bvToast.toast(a,{title:o,variant:e,toaster:"b-toaster-top-center",autoHideDelay:t,solid:!0})},setRevocationIdToWipe:function(e){this.revocationIdToWipe=e},manageRequestResult:function(e){this.localStore.revocation=e.revocations,this.localStore.writeAllowed=e.writeAllowed,this.initializationTable(),Dt.state.loading=!1},launchWipeDataRequest:function(){var e=this,t=this.revocationIdToWipe;""!==t&&(Dt.state.loading=!0,h.wipeUserDataOnOlvidRevocationDatabaseRequest(be.realmAsked,t).then((function(t){e.manageRequestResult(t),e.makeToast("success",4e3,Dt.state.dictionary.toastDataWipe.text,Dt.state.dictionary.toastDataWipe.title)})).catch((function(t){console.log(t),Dt.state.loading=!1,e.makeToast("danger",4e3,Dt.state.dictionary.toastDanger.text,Dt.state.dictionary.toastDanger.title)})))},launchGetRevocationLogsRequest:function(){var e=this;Dt.state.loading=!0,this.idFilter="",h.getRevocationsListRequest(be.realmAsked).then((function(t){void 0!==Object(u["a"])(t.queryNotAllowed)&&t.queryNotAllowed||e.manageRequestResult(t)})).catch((function(e){console.log(e),Dt.state.loading=!1}))}},beforeMount:function(){be.realmAsked=this.$route.params.realmName,this.launchGetRevocationLogsRequest()}},ye=ge,Se=(a("084b"),Object(g["a"])(ye,ve,pe,!1,null,"694a9918",null)),we=Se.exports,ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:e.storeState.permissionDenied?"":"userlist"}},[a("AlertBadRealmType"),a("PagePermissionDenied"),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.storeState.badRealmType&&!e.storeState.permissionDenied,expression:"!storeState.badRealmType && !storeState.permissionDenied"}]},[a("NavbarPageTitle",{attrs:{"bold-text":e.localStore.realmAsked,text:e.storeState.dictionary.titlePageUserList,"save-button-attendance":!1,"refresh-function":e.launchGetUsersListRequest}}),a("br"),a("br"),a("Spinner"),a("b-modal",{ref:"revocationModal",attrs:{id:"revocationModal","hide-footer":"",title:e.storeState.dictionary.revoke.revoke+e.localStore.textToDisplay}},[a("p",{staticClass:"my-4"},[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{pills:"",card:""}},[a("b-tab",{attrs:{disabled:e.revokeIdentityDisabled,title:e.storeState.dictionary.revoke.revokeIdentityLabel,active:""},on:{click:function(t){return e.setRevocationType(e.storeState.dictionary.revoke.revokeIdentityKey)}}},[a("b-card-text",{staticStyle:{"text-align":"justify"}},[e._v(" "+e._s(e.storeState.dictionary.revoke.revokeIdentityText.part1)+" "),a("strong",[e._v(e._s(e.storeState.dictionary.revoke.revokeIdentityText.part2))]),e._v(" "+e._s(e.storeState.dictionary.revoke.revokeIdentityText.part3)+" ")])],1),a("b-tab",{attrs:{title:e.storeState.dictionary.revoke.removeUserLabel},on:{click:function(t){return e.setRevocationType(e.storeState.dictionary.revoke.removeUserKey)}}},[a("b-card-text",{staticStyle:{"text-align":"justify"}},[e._v(" "+e._s(e.storeState.dictionary.revoke.removeUserText.part1)+" "),a("strong",[e._v(e._s(e.storeState.dictionary.revoke.removeUserText.part2))]),e._v(" "+e._s(e.storeState.dictionary.revoke.removeUserText.part3)+" ")])],1)],1)],1),a("span",{directives:[{name:"show",rawName:"v-show",value:e.revokeIdentityDisabled,expression:"revokeIdentityDisabled"}],staticStyle:{"font-size":"13px"}},[a("strong",{staticStyle:{"margin-right":"5px"}},[e._v(e._s(e.storeState.dictionary.revoke.note.part1))]),e._v(e._s(e.storeState.dictionary.revoke.note.part2))]),a("br")],1),a("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.areYouSureModal",modifiers:{areYouSureModal:!0}}],staticStyle:{float:"right","margin-left":"4px"},attrs:{size:"sm",variant:"danger"},on:{click:function(t){return e.hideModal("revocationModal",!1)}}},[e.revocationType===e.storeState.dictionary.revoke.revokeIdentityKey?a("span",[e._v(e._s(e.storeState.dictionary.revoke.revokeIdentityLabel))]):e.revocationType===e.storeState.dictionary.revoke.removeUserKey?a("span",[e._v(e._s(e.storeState.dictionary.revoke.removeUserLabel))]):e._e()]),a("b-btn",{staticStyle:{float:"right"},attrs:{size:"sm",variant:"secondary"},on:{click:function(t){return e.hideModal("revocationModal",!0)}}},[e._v(" Cancel ")])],1),a("b-modal",{ref:"areYouSureModal",attrs:{id:"areYouSureModal",title:e.storeState.dictionary.titleModalAreYouSure,"ok-title":e.storeState.dictionary.revoke.revoke,"button-size":"sm"},on:{cancel:function(t){return e.showModal("revocationModal")},ok:function(t){return e.launchRevocationRequest()}}},[a("p",{staticClass:"my-4"},[e._v(" "+e._s(e.storeState.dictionary.revoke.modalText.part1)+e._s(e.localStore.textToDisplay)+e._s(e.storeState.dictionary.revoke.modalText.part2)+" "),e.revocationType===e.storeState.dictionary.revoke.revokeIdentityKey?a("strong",[e._v("'"+e._s(e.storeState.dictionary.revoke.revokeIdentityLabel)+"'")]):e.revocationType===e.storeState.dictionary.revoke.removeUserKey?a("strong",[e._v("'"+e._s(e.storeState.dictionary.revoke.removeUserLabel)+"'")]):e._e(),e._v(" "+e._s(e.storeState.dictionary.revoke.modalText.part3)+" ")])]),a("b-container",[a("b-row",{attrs:{cols:"2","cols-sm":"12","cols-md":"12","cols-lg":"12","cols-xl":"12"}},[a("b-col",{attrs:{cols:"4"}},[a("div",[a("b-form-group",{attrs:{size:"sm"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.ariaDescribedby;return[a("b-form-radio-group",{attrs:{options:e.radioOptions,"aria-describedby":o,name:"radio-inline",stacked:""},on:{change:e.displayTheRightData},model:{value:e.radioSelected,callback:function(t){e.radioSelected=t},expression:"radioSelected"}})]}}])})],1)]),a("b-col",{attrs:{cols:"8"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:e.storeState.dictionary.labelFilter,"label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:e.storeState.dictionary.placeholderUserListFilter},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearchButton.apply(null,arguments)}},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:e.onSearchButton}},[e._v(e._s(e.storeState.dictionary.filterButtonLabel.search))]),a("b-button",{attrs:{disabled:0===e.filters.length},on:{click:e.onClearButton}},[e._v(e._s(e.storeState.dictionary.filterButtonLabel.clear))])],1)],1),e._l(e.filters,(function(t){return a("b-form-tag",{key:t,staticClass:"mr-1",attrs:{title:t},on:{remove:function(a){return e.removeTag(t)}}},[e._v(e._s(t))])}))],2)],1)],1)],1),a("br"),a("b-table",{staticStyle:{"text-align":"center"},attrs:{items:e.items,fields:e.fields,filter:e.filter,"filter-function":e.onFilter,"filter-included-fields":e.columnsToFilter,"filter-debounce":"250","empty-text":e.storeState.dictionary.tableEmptyText,striped:"",hover:"","show-empty":"",responsive:""},scopedSlots:e._u([{key:"head(selectUsers)",fn:function(){return[a("b-form-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.localStore.writeAllowed,expression:"localStore.writeAllowed"}],attrs:{id:"headcheckbox",name:"headcheckbox"},on:{change:e.headCheckboxHandler},model:{value:e.headCheckbox,callback:function(t){e.headCheckbox=t},expression:"headCheckbox"}})]},proxy:!0},{key:"cell(selectUsers)",fn:function(t){return[a("b-form-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.localStore.writeAllowed,expression:"localStore.writeAllowed"}],staticClass:"selectionCheckbox",attrs:{value:t.item.id},model:{value:e.localStore.selectedUsers,callback:function(t){e.$set(e.localStore,"selectedUsers",t)},expression:"localStore.selectedUsers"}})]}},{key:"cell(username)",fn:function(t){return[a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}},{name:"b-tooltip",rawName:"v-b-tooltip.left.v-light",modifiers:{left:!0,"v-light":!0}}],attrs:{title:t.item.id}},[e._v(e._s(t.value))])]}},{key:"cell(apiKey)",fn:function(t){return[a("span",{staticClass:"apikey"},[e._v(e._s(t.value))])]}},{key:"head(signOut)",fn:function(t){return[a("span",{directives:[{name:"show",rawName:"v-show",value:e.localStore.writeAllowed,expression:"localStore.writeAllowed"}]},[e._v(" "+e._s(t.label)+" ")])]}},{key:"cell(signOut)",fn:function(t){return[a("b-button",{directives:[{name:"show",rawName:"v-show",value:e.localStore.writeAllowed,expression:"localStore.writeAllowed"}],attrs:{name:t.item.id,id:t.item.id,size:"sm",variant:"outline-secondary"},on:{click:function(a){return e.launchSignOutRequest(t.item.id)}}},[e._v(e._s(e.storeState.dictionary.revoke.signOutLabel))])]}},{key:"head(isrevoked)",fn:function(t){return[a("span",{directives:[{name:"show",rawName:"v-show",value:e.localStore.writeAllowed,expression:"localStore.writeAllowed"}]},[e._v(e._s(t.label))])]}},{key:"cell(isrevoked)",fn:function(t){return[a("b-button",{directives:[{name:"show",rawName:"v-show",value:e.localStore.writeAllowed,expression:"localStore.writeAllowed"}],attrs:{name:t.item.id,id:t.item.id,size:"sm",variant:"outline-danger"},on:{click:function(a){return e.singleRevocation(t.item.id,t.item.username,t.item.invitationLink)}}},[e._v(e._s(e.storeState.dictionary.revoke.revoke))])]}},{key:"cell(invitationLink)",fn:function(t){return["undefined"===typeof t.item.invitationLink||"undefined"===typeof t.item.firstname&&"undefined"===typeof t.item.lastname?e._e():a("a",{attrs:{href:t.item.invitationLink,target:"_blank"}},[a("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"link"}})],1)]}}])}),a("br"),a("div",{staticClass:"mt-3"},[a("b-pagination",{attrs:{"total-rows":e.localStore.count,"per-page":e.storeState.limit,"first-number":"","last-number":""},on:{change:e.onPageChanged},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),a("b-navbar",{directives:[{name:"show",rawName:"v-show",value:e.localStore.writeAllowed&&e.localStore.selectedUsers.length>0,expression:"localStore.writeAllowed && localStore.selectedUsers.length > 0"}],attrs:{fixed:"bottom",sticky:!0,id:"bottomnavbar"}},[a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-form",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.localStore.selectedUsers.length>0,expression:"localStore.selectedUsers.length>0"}],staticClass:"buttons"},[a("span",[a("b-button",{staticClass:"revocationButton",attrs:{size:"sm",variant:"outline-danger"},on:{click:e.multipleRevocations}},[e._v(" "+e._s(e.storeState.dictionary.revoke.revoke)+" "),1===e.localStore.selectedUsers.length?a("span",[e._v("1 "+e._s(e.storeState.dictionary.user))]):a("span",[e._v(" "+e._s(e.localStore.selectedUsers.length)+" "+e._s(e.storeState.dictionary.users))])]),a("b-button",{staticClass:"revocationButton",attrs:{size:"sm",variant:"outline-secondary"},on:{click:function(t){return e.launchSignOutRequest(null)}}},[e._v(" "+e._s(e.storeState.dictionary.revoke.signOutLabel)+" "),1===e.localStore.selectedUsers.length?a("span",[e._v("1 "+e._s(e.storeState.dictionary.user))]):a("span",[e._v(" "+e._s(e.localStore.selectedUsers.length)+" "+e._s(e.storeState.dictionary.users))])])],1)])])],1)],1)],1)],1)},Ce=[],Ie=a("b85c"),_e=(a("4de4"),a("99af"),a("a434"),a("4d63"),a("c607"),a("2c3e"),a("25f0"),a("5319"),a("159b"),a("3ca3"),a("ddb0"),{selectedUsers:[],users:{},limit:100,count:0,textToDisplay:"",writeAllowed:!1,showOnlyOneCardTab:!1,realmAsked:""}),Re={name:"PageUsersList",components:{Spinner:S,AlertBadRealmType:q,NavbarPageTitle:R,PagePermissionDenied:D},data:function(){return{storeState:Dt.state,localStore:_e,revocationType:"",toRevoke:[],revokeIdentityDisabled:!1,items:[],filter:"",filters:[],headCheckbox:!1,currentPage:1,radioSelected:"withOlvidId",radioOptions:[{text:Dt.state.dictionary.radioOptionsUserList.withOlvidId,value:"withOlvidId"},{text:Dt.state.dictionary.radioOptionsUserList.withoutOlvidId,value:"withoutOlvidId"},{text:Dt.state.dictionary.radioOptionsUserList.both,value:"both"}],fields:[{key:"username",label:Dt.state.dictionary.fieldTable.username,sortable:!0,thClass:"align-middle"},{key:"firstname",label:Dt.state.dictionary.fieldTable.firstname,sortable:!0,thClass:"align-middle"},{key:"lastname",label:Dt.state.dictionary.fieldTable.lastname,sortable:!0,thClass:"align-middle"},{key:"position",label:Dt.state.dictionary.fieldTable.position,sortable:!0,thClass:"align-middle"},{key:"company",label:Dt.state.dictionary.fieldTable.company,sortable:!0,thClass:"align-middle"},{key:"apiKey",label:Dt.state.dictionary.fieldTable.apiKey,sortable:!0,thClass:"align-middle"},{key:"invitationLink",label:Dt.state.dictionary.fieldTable.invitationLink,thStyle:{width:"65px"},thClass:"align-middle"}],columnsToFilter:["username","firstname","lastname","position","company"]}},methods:{showModal:function(e){this.$refs[e].show()},hideModal:function(e,t){this.$refs[e].hide(),t&&(this.revocationType=Dt.state.dictionary.revoke.revokeIdentityKey)},headCheckboxHandler:function(){if(_e.selectedUsers=[],this.headCheckbox){console.log("== headCheckboxHandler ==");for(var e=0;e<this.items.length;e++)console.log("filter : ",this.filter),console.log("item[i] : ",this.items[e]),console.log("condition : ",this.onFilter(this.items[e],this.filter)),this.onFilter(this.items[e],this.filter)&&_e.selectedUsers.push(this.items[e].id);console.log("selectedUsers : ",_e.selectedUsers)}},onSearchButton:function(){var e=this;Dt.state.loading=!0,this.filters=""!==this.filter?this.filters.concat(this.filter.split(" ")):this.filters,this.filters=this.filters.filter((function(e){return e})),h.getUsersListRequest(_e.realmAsked,this.filters,1).then((function(t){e.localStore.users=t.userList,e.localStore.count=t.count,e.localStore.writeAllowed=t.writeAllowed,Dt.state.loading=!1,e.displayTheRightData(),e.filter="",Dt.state.loading=!1})).catch((function(e){console.log(e),Dt.state.loading=!1}))},removeTag:function(e){var t=this;Dt.state.loading=!0;var a=this.filters.indexOf(e);a>-1&&this.filters.splice(a,1),h.getUsersListRequest(_e.realmAsked,this.filters,1).then((function(e){t.localStore.users=e.userList,t.localStore.count=e.count,t.localStore.writeAllowed=e.writeAllowed,Dt.state.loading=!1,t.displayTheRightData(),t.filter="",Dt.state.loading=!1})).catch((function(e){console.log(e),Dt.state.loading=!1}))},onClearButton:function(){var e=this;Dt.state.loading=!0,this.filters=[],this.filter="",h.getUsersListRequest(_e.realmAsked,this.filters,1).then((function(t){e.localStore.users=t.userList,e.localStore.count=t.count,e.localStore.writeAllowed=t.writeAllowed,Dt.state.loading=!1,e.displayTheRightData(),e.filter="",Dt.state.loading=!1})).catch((function(e){console.log(e),Dt.state.loading=!1}))},onPageChanged:function(e){var t=this;Dt.state.loading=!0,h.getUsersListRequest(_e.realmAsked,this.filters,e).then((function(e){t.localStore.users=e.userList,t.localStore.count=e.count,t.localStore.writeAllowed=e.writeAllowed,Dt.state.loading=!1,t.displayTheRightData(),t.filter="",Dt.state.loading=!1})).catch((function(e){console.log(e),Dt.state.loading=!1}))},onFilter:function(e,t){var a,o=t.split(" "),i=Object(Ie["a"])(o);try{for(i.s();!(a=i.n()).done;){var n,r=a.value,s=!1,l=new RegExp(r.normalize("NFD").replace(/[\u0300-\u036f]/g,""),"i"),c=Object(Ie["a"])(this.columnsToFilter);try{for(c.s();!(n=c.n()).done;){var d=n.value;Object.prototype.hasOwnProperty.call(e,d)&&"".concat(e[d]).normalize("NFD").replace(/[\u0300-\u036f]/g,"").match(l)&&(s=!0)}}catch(m){c.e(m)}finally{c.f()}if(!s)return!1}}catch(m){i.e(m)}finally{i.f()}return!0},displayTheRightData:function(){this.localStore.selectedUsers=[],this.items=[],this.headCheckbox=!1;for(var e=Object.keys(_e.users),t=0;t<e.length;t++){var a=_e.users[e[t]];switch(a.id=e[t],this.radioSelected){case"both":this.items.push(a);break;case"withOlvidId":"undefined"!==typeof _e.users[e[t]]["olvidIdentity"]&&this.items.push(a);break;case"withoutOlvidId":"undefined"===typeof _e.users[e[t]]["olvidIdentity"]&&this.items.push(a);break}}},singleRevocation:function(e,t,a){this.revocationType=Dt.state.dictionary.revoke.revokeIdentityKey,this.revokeIdentityDisabled="undefined"===typeof a,"undefined"===typeof a?(this.revocationType=Dt.state.dictionary.revoke.removeUserKey,this.revokeIdentityDisabled=!0):this.revokeIdentityDisabled=!1,this.toRevoke=[],this.toRevoke.push(e),this.localStore.textToDisplay=t,this.showModal("revocationModal")},multipleRevocations:function(){this.toRevoke=[],this.revocationType=Dt.state.dictionary.revoke.revokeIdentityKey,this.revokeIdentityDisabled=!1,this.localStore.textToDisplay=_e.selectedUsers.length+" "+Dt.state.dictionary.users;for(var e=0;e<_e.selectedUsers.length;e++)this.toRevoke.push(_e.selectedUsers[e]),"undefined"===typeof _e.users[_e.selectedUsers[e]].invitationLink&&(this.revokeIdentityDisabled=!0,this.revocationType=Dt.state.dictionary.revoke.removeUserKey);this.showModal("revocationModal")},setRevocationType:function(e){this.revocationType=e},makeToast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;this.$bvToast.toast(a,{title:o,variant:e,toaster:"b-toaster-top-center",autoHideDelay:t,solid:!0})},launchSignOutRequest:function(e){var t=this;Dt.state.loading=!0;var a=[];null!==e?a.push(e):a=this.localStore.selectedUsers;var o=[];a.forEach((function(e){o.push(h.signOutUserRequest(_e.realmAsked,e))})),Promise.all(o).then((function(e){e.length>1?t.makeToast("success",5e3,Dt.state.dictionary.toastSignOutDone.textPlural,Dt.state.dictionary.toastSignOutDone.title):t.makeToast("success",5e3,Dt.state.dictionary.toastSignOutDone.textSingular,Dt.state.dictionary.toastSignOutDone.title),t.launchGetUsersListRequest(),Dt.state.loading=!1})).catch((function(e){console.log(e),t.makeToast("danger",5e3,Dt.state.dictionary.toastDanger.text,Dt.state.dictionary.toastDanger.title),Dt.state.loading=!1}))},launchRevocationRequest:function(){var e=this;Dt.state.loading=!0;var t=-1;this.revocationType===Dt.state.dictionary.revoke.revokeIdentityKey?t=0:this.revocationType===Dt.state.dictionary.revoke.removeUserKey&&(t=1);var a=[];this.toRevoke.forEach((function(e){a.push(h.revokeOneUserRequest(_e.realmAsked,e,t))})),Promise.all(a).then((function(){e.launchGetUsersListRequest(),e.makeToast("success",5e3,Dt.state.dictionary.toastRevocationDone.text,Dt.state.dictionary.toastRevocationDone.title),Dt.state.loading=!1})).catch((function(t){console.log(t),Dt.state.loading=!1,e.makeToast("danger",5e3,Dt.state.dictionary.toastDanger.text,Dt.state.dictionary.toastDanger.title)}))},launchGetUsersListRequest:function(){var e=this;Dt.state.loading=!0;var t=_e.realmAsked;this.storeState.radioButtonOlvidIdState=this.radioSelected,this.filter="",h.getUsersListRequest(t,this.filters,this.currentPage).then((function(t){void 0!==Object(u["a"])(t.queryNotAllowed)&&t.queryNotAllowed||(e.localStore.users=t.userList,e.localStore.count=t.count,e.localStore.writeAllowed=t.writeAllowed,Dt.state.loading=!1,e.initializationTable(),Dt.state.loading=!1,_e.writeAllowed&&(e.fields.unshift({key:"selectUsers",label:"",thStyle:{width:"30px"},thClass:"align-middle"}),e.fields.push({key:"signOut",label:Dt.state.dictionary.revoke.signOutLabel,thStyle:{width:"130px"},thClass:"align-middle"}),e.fields.push({key:"isrevoked",label:Dt.state.dictionary.fieldTable.revoke,thStyle:{width:"100px"},thClass:"align-middle"})))})).catch((function(e){console.log(e),Dt.state.loading=!1}))},initializationTable:function(){_e.selectedUsers=[],this.displayTheRightData()}},beforeMount:function(){_e.realmAsked=this.$route.params.realmName,this.launchGetUsersListRequest()}},Ae=Re,xe=(a("f716"),Object(g["a"])(Ae,ke,Ce,!1,null,"41778bcc",null)),Te=xe.exports,Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{key:e.storeState,attrs:{id:"olviddashboard"}},[a("AlertBadRealmType"),a("PagePermissionDenied"),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.storeState.badRealmType&&!e.storeState.permissionDenied,expression:"!storeState.badRealmType && !storeState.permissionDenied"}]},[a("Spinner"),a("NavbarPageTitle",{attrs:{"bold-text":e.localStore.realmAsked,text:e.storeState.dictionary.titlePageDashboard,"save-button-attendance":!1,"refresh-function":e.launchOlvidDashboardRequest}}),a("br"),a("br"),a("div",{attrs:{id:"dashboard-flow"}},[a("div",{attrs:{id:"configlinkcontainer"}},[a("h5",[e._v(" "+e._s(e.storeState.dictionary.titleItemConfigLink)+" "),a("a",{attrs:{href:e.returnConfigLink,target:"_blank"}},[a("font-awesome-icon",{staticStyle:{"font-size":"20px"},attrs:{icon:"link"}})],1)]),a("div",{attrs:{id:"wrap"}},[a("iframe",{attrs:{id:"scaled-iframe",src:e.returnConfigLink}})])]),a("div",{class:e.somme,attrs:{id:"nbuserscontainer"}},[a("h5",[e._v(" "+e._s(e.storeState.dictionary.titleItemNbUsers)+" "),a("span",{staticStyle:{color:"#007bff"}},[a("strong",[a("em",[e._v(e._s(e.localStore.dashboardData.count))])])]),a("span",{staticStyle:{"margin-left":"1em"}},[e._v("("+e._s(e.localStore.dashboardData.withOlvidId)+" "+e._s(e.storeState.dictionary.withOlvidId)+")")])]),a("pie-chart",{directives:[{name:"show",rawName:"v-show",value:e.localStore.dashboardData.count>0,expression:"localStore.dashboardData.count>0"}],key:e.updatePieChart,class:e.somme,attrs:{"with-olvid-id":e.localStore.dashboardData.withOlvidId,"without-olvid-id":e.localStore.dashboardData.withoutOlvidId,id:"piechart"}})],1)])],1)],1)},Oe=[],De={dashboardData:{},realmAsked:""},je={name:"PageOlvidDashboard",components:{PagePermissionDenied:D,Spinner:S,AlertBadRealmType:q,NavbarPageTitle:R},props:["realmName"],data:function(){return{updatePieChart:0,storeState:Dt.state,localStore:De}},methods:{launchOlvidDashboardRequest:function(){var e=this;Dt.state.loading=!0,h.getDashboardDataRequest(De.realmAsked).then((function(t){if(void 0===Object(u["a"])(t.queryNotAllowed)||!t.queryNotAllowed){e.localStore.dashboardData=t.dashboard;var a=document.getElementById("scaled-iframe").cloneNode();a.src=De.dashboardData.configLink,document.getElementById("scaled-iframe").parentNode.replaceChild(a,document.getElementById("scaled-iframe")),Dt.state.loading=!1}})).catch((function(e){console.log(e),Dt.state.loading=!1}))}},computed:{somme:function(){return this.updatePieChart++,De.dashboardData.withOlvidId+De.dashboardData.withoutOlvidId*De.dashboardData.withoutOlvidId},returnConfigLink:function(){return De.dashboardData.configLink}},beforeMount:function(){De.realmAsked=this.$route.params.realmName,this.launchOlvidDashboardRequest()}},Le=je,Pe=(a("0db1"),Object(g["a"])(Le,Me,Oe,!1,null,"0e63a879",null)),Ne=Pe.exports,Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"adminpage"}},[a("AlertBadRealmType"),a("PagePermissionDenied"),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.storeState.badRealmType&&!e.storeState.permissionDenied,expression:"!storeState.badRealmType && !storeState.permissionDenied"}]},[a("Spinner"),a("NavbarPageTitle",{attrs:{"bold-text":e.localStore.realmAsked,text:e.storeState.dictionary.titlePageUserList,"no-change":e.noChangesHaveBeenDone,"save-button-attendance":e.localStore.writeAllowed,"save-function":e.launchSaveRequest,"refresh-function":e.launchAdminsListRequest}}),a("br"),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.storeState.loading,expression:"!storeState.loading"}]},[a("b-card",{attrs:{title:e.storeState.dictionary.titleCardPageAdmin}},[a("b-card-text",[a("strong",[e._v(e._s(e.storeState.dictionary.role.admin))]),e._v(": "+e._s(e.storeState.dictionary.roleExplanationsCardPageAdmin.admin)),a("br"),a("strong",[e._v(e._s(e.storeState.dictionary.role.editor))]),e._v(": "+e._s(e.storeState.dictionary.roleExplanationsCardPageAdmin.editor)),a("br"),a("strong",[e._v(e._s(e.storeState.dictionary.role.viewer))]),e._v(": "+e._s(e.storeState.dictionary.roleExplanationsCardPageAdmin.viewer)),a("br"),a("strong",[e._v(e._s(e.storeState.dictionary.role.none))]),e._v(": "+e._s(e.storeState.dictionary.roleExplanationsCardPageAdmin.none)),a("br")])],1),a("br"),a("b-button",{directives:[{name:"show",rawName:"v-show",value:e.localStore.writeAllowed,expression:"localStore.writeAllowed"}],attrs:{variant:"success"},on:{click:function(t){return e.showModal("creationModal")}}},[e._v(e._s(e.storeState.dictionary.createAdminForm.createButton))]),a("br"),a("br"),a("b-table",{attrs:{size:"sm","empty-text":e.storeState.dictionary.tableEmptyText,"show-empty":"",striped:"",hover:"",items:e.items,fields:e.fields},scopedSlots:e._u([{key:"head(selectCheckbox)",fn:function(){return[a("b-form-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.localStore.writeAllowed,expression:"localStore.writeAllowed"}],attrs:{name:"headCheckbox"},on:{change:e.headCheckboxHandler},model:{value:e.headCheckbox,callback:function(t){e.headCheckbox=t},expression:"headCheckbox"}})]},proxy:!0},{key:"cell(selectCheckbox)",fn:function(t){return[t.item.username!==e.storeState.authenticationInfo.username||e.localStore.realmAsked!==e.storeState.authenticationInfo.realm?a("b-form-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.localStore.writeAllowed,expression:"localStore.writeAllowed"}],attrs:{value:t.item.username},model:{value:e.localStore.selectedUsers,callback:function(t){e.$set(e.localStore,"selectedUsers",t)},expression:"localStore.selectedUsers"}}):e._e()]}},{key:"cell(selectRole)",fn:function(t){return[e.localStore.writeAllowed?a("div",[a("DropdownAdminsListPage",{attrs:{"dropdown-disabled":!(t.item.username!==e.storeState.authenticationInfo.username||e.localStore.realmAsked!==e.storeState.authenticationInfo.realm),"dropdown-label":e.localStore.adminsList[t.item.username].role,"dropdown-variant":"secondary","on-dropdown-item-click-function":e.setDropdownLabel,"user-role":e.localStore.adminsList[t.item.username].role,username:t.item.username}})],1):a("div",[e._v(" "+e._s(t.item.role)+" ")])]}}])}),a("br"),e.localStore.selectedUsers.length>0&&e.localStore.writeAllowed?a("b-navbar",{attrs:{fixed:"bottom",sticky:!0,id:"bottomnavbar"}},[a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-form",[a("DropdownAdminsListPage",{attrs:{"dropdown-disabled":!1,"dropdown-label":e.storeState.dictionary.dropdownLabelSetRole.part1+e.dropdownLabelBottom+e.storeState.dictionary.dropdownLabelSetRole.part2+e.localStore.selectedUsers.length+e.storeState.dictionary.dropdownLabelSetRole.part3,"dropdown-variant":"primary","on-dropdown-item-click-function":e.setDropdownLabel,"user-role":e.dropdownLabelBottom,username:null}}),a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(t){return e.showModal("removingConfirmation")}}},[e._v(e._s(e.storeState.dictionary.buttonDeleteAdmin.part1)+e._s(e.localStore.selectedUsers.length)+e._s(e.storeState.dictionary.buttonDeleteAdmin.part2))])],1)],1)],1):e._e()],1)],1),a("b-modal",{ref:"creationModal",attrs:{id:"creationModal","hide-footer":"",title:e.storeState.dictionary.titleAdminCreationModal,"no-close-on-backdrop":"","no-close-on-esc":"","hide-header-close":""}},[a("p",{directives:[{name:"show",rawName:"v-show",value:e.localStore.creatingError,expression:"localStore.creatingError"}],staticStyle:{"font-size":"small",color:"red"}},[e._v(" "+e._s(e.storeState.dictionary.createAdminForm.errorMessage)+" ")]),a("b-card",[a("p",{staticStyle:{"font-size":"small",color:"blue",margin:"0"}},[e._v(e._s(e.storeState.dictionary.createAdminForm.instructions))]),a("b-form",[a("b-form-group",{attrs:{id:"input-group-1"}},[a("label",[e._v(" "+e._s(e.storeState.dictionary.createAdminForm.labels.email)+" "),a("span",{staticStyle:{color:"red"}},[e._v("*")])]),a("b-form-input",{attrs:{id:"input-1",type:"email",placeholder:e.storeState.dictionary.createAdminForm.placeholder.email},model:{value:e.localStore.adminCreated.email,callback:function(t){e.$set(e.localStore.adminCreated,"email",t)},expression:"localStore.adminCreated.email"}})],1),a("b-form-group",{attrs:{id:"input-group-2"}},[a("label",[e._v(" "+e._s(e.storeState.dictionary.createAdminForm.labels.username)+" "),a("span",{staticStyle:{color:"red"}},[e._v("*")])]),a("b-form-input",{attrs:{id:"input-2",placeholder:e.storeState.dictionary.createAdminForm.placeholder.username,required:""},model:{value:e.localStore.adminCreated.username,callback:function(t){e.$set(e.localStore.adminCreated,"username",t)},expression:"localStore.adminCreated.username"}})],1),a("b-form-group",{attrs:{id:"input-group-2",label:e.storeState.dictionary.createAdminForm.labels.firstname,"label-for":"input-2"}},[a("b-form-input",{attrs:{id:"input-2",placeholder:e.storeState.dictionary.createAdminForm.placeholder.firstname},model:{value:e.localStore.adminCreated.firstname,callback:function(t){e.$set(e.localStore.adminCreated,"firstname",t)},expression:"localStore.adminCreated.firstname"}})],1),a("b-form-group",{attrs:{id:"input-group-2",label:e.storeState.dictionary.createAdminForm.labels.lastname,"label-for":"input-2"}},[a("b-form-input",{attrs:{id:"input-2",placeholder:e.storeState.dictionary.createAdminForm.placeholder.lastname},model:{value:e.localStore.adminCreated.lastname,callback:function(t){e.$set(e.localStore.adminCreated,"lastname",t)},expression:"localStore.adminCreated.lastname"}})],1),a("b-form-group",{attrs:{id:"input-group-3"}},[a("label",[e._v(" "+e._s(e.storeState.dictionary.createAdminForm.labels.role)+" "),a("span",{staticStyle:{color:"red"}},[e._v("*")])]),a("b-form-select",{attrs:{id:"input-3",options:e.localStore.roles,required:""},model:{value:e.localStore.adminCreated.role,callback:function(t){e.$set(e.localStore.adminCreated,"role",t)},expression:"localStore.adminCreated.role"}})],1),a("b-container",[a("b-row",{attrs:{"align-h":"end"}},[a("b-button",{on:{click:e.closeModal}},[e._v(e._s(e.storeState.dictionary.createAdminForm.closeButton))]),a("b-button",{attrs:{variant:"success"},on:{click:e.createAdminUser}},[e._v(e._s(e.storeState.dictionary.createAdminForm.createButton))])],1)],1)],1)],1)],1),a("b-modal",{ref:"creationSuccess",attrs:{title:e.storeState.dictionary.createAdminSuccessModal.title,"hide-footer":""}},[a("p",[a("strong",[e._v(e._s(e.localStore.adminCreated.username))]),e._v(e._s(e.storeState.dictionary.createAdminSuccessModal.part1)+" ")]),a("p",[e._v(" "+e._s(e.storeState.dictionary.createAdminSuccessModal.part2)+" ")]),a("p",{staticStyle:{"text-align":"center","font-size":"200%","font-family":"'Courier', monospace"}},[a("strong",[e._v(" "+e._s(e.localStore.password)+" ")])]),a("p",[e._v(" "+e._s(e.storeState.dictionary.createAdminSuccessModal.part3)+e._s(e.localStore.adminCreated.email)+e._s(e.storeState.dictionary.createAdminSuccessModal.part4)+" ")]),a("b-container",[a("b-row",{attrs:{"align-h":"end"}},[a("p",{directives:[{name:"show",rawName:"v-show",value:!0===e.localStore.successfulSending,expression:"localStore.successfulSending === true"}],staticStyle:{"font-size":"small",color:"green"}},[e._v(" "+e._s(e.storeState.dictionary.createAdminSuccessModal.successMessage)+" ")]),a("p",{directives:[{name:"show",rawName:"v-show",value:!1===e.localStore.successfulSending,expression:"localStore.successfulSending === false"}],staticStyle:{"font-size":"small",color:"red"}},[e._v(" "+e._s(e.storeState.dictionary.createAdminSuccessModal.failMessage)+" ")]),a("b-button",{directives:[{name:"show",rawName:"v-show",value:null===e.localStore.successfulSending&&!1===e.localStore.smtpError,expression:"localStore.successfulSending === null && localStore.smtpError === false"}],attrs:{variant:"primary"},on:{click:e.sendPasswordEmail}},[e._v(" "+e._s(e.storeState.dictionary.createAdminSuccessModal.emailButton)+" ")]),a("p",{directives:[{name:"show",rawName:"v-show",value:null===e.localStore.successfulSending&&!0===e.localStore.smtpError,expression:"localStore.successfulSending === null && localStore.smtpError === true"}],staticStyle:{color:"red","font-size":"small"}},["master"!==e.storeState.authenticationInfo.realm?a("span",[e._v(e._s(e.storeState.dictionary.createAdminSuccessModal.noSmtpConfig))]):a("span",{domProps:{innerHTML:e._s(e.storeState.dictionary.createAdminSuccessModal.noSmtpConfigMaster)}})]),a("b-button",{attrs:{variant:"danger"},on:{click:e.closeModal}},[e._v(" "+e._s(e.storeState.dictionary.createAdminSuccessModal.closeButton)+" ")])],1)],1)],1),a("b-modal",{ref:"removingConfirmation",attrs:{title:e.storeState.dictionary.removingConfirmation.title,"hide-footer":""}},[a("p",[e._v(e._s(e.storeState.dictionary.removingConfirmation.question))]),a("b-container",[a("b-row",{attrs:{"align-h":"end"}},[a("b-button",{on:{click:e.closeModal}},[e._v(e._s(e.storeState.dictionary.removingConfirmation.buttonCancelLabel))]),a("b-button",{attrs:{variant:"primary"},on:{click:e.removeAdmins}},[e._v(e._s(e.storeState.dictionary.removingConfirmation.buttonOkLabel))])],1)],1)],1)],1)},qe=[],Be={alertComingSoon:"Coming soon!",buttonLabelSave:"Save",buttonDeleteAdmin:{part1:"Delete ",part2:" Admin User(s)"},buttonModalCreateAdmin:"Create",checkboxEnablePrometheusMetrics:{part1:"Enable Prometheus Metrics at ",part2:"."},checkboxRevocationAllowed:"Revocation Allowed",createAdminForm:{labels:{email:"Email",username:"Username",firstname:"Firstname",lastname:"Lastname",role:"Role"},placeholder:{email:"email@example.com",username:"JohnS",firstname:"John",lastname:"Smith"},roles:{defaultChoice:"Select role",admin:"admin",editor:"editor",viewer:"viewer",none:"none"},errorMessage:"Another admin with the same username or email might already exist, or some required fields are empty. Please check values in the form.",instructions:"Fields with * are required.",closeButton:"Cancel",createButton:"Create Admin User"},createAdminSuccessModal:{title:"Admin successfully created",part1:"'s account has been successfully created!",part2:"Here is their temporary password:",part3:"You can notify them by email (",part4:").",emailButton:"Send email",successMessage:"Email sent successfully",failMessage:"Sending has failed",closeButton:"Close",noSmtpConfig:"In order to automatically notify the user by email, you need to configure an SMTP server for the master keycloak realm. Please contact a Keycloak administrator for more details.",noSmtpConfigMaster:"In order to automatically notify the user by email, you need to configure an SMTP server for the master keycloak realm. Go to <a href='/auth/admin/master/console/#/realms/master/smtp-settings' target='_blank'>configuration page</a>."},dropdownHeaderSetClient:"Select a Client",dropdownHeaderSetKey:"Select a Key",dropdownItemSetKey:{algorithm:"Algorithm: ",type:"Family: ",id:"Key ID: "},dropdownItemTopBannerProfile:{account:"Account",signout:"Sign Out"},dropdownLabelSetClient:"Client",dropdownLabelSetClientButNoClient:"No Client",dropdownLabelSetKey:"Key",dropdownLabelSetRole:{part1:"Set ",part2:" to ",part3:" User(s)"},errorMessageBadRealmType:"BadRealmType Error: Cannot access admin page of a non admin Realm",errorPermissionDenied:"Permission Denied: you do not have the permission to access here.",fieldTable:{apiKey:"API Key",company:"Company",email:"E-mail",firstname:"Firstname",invitationLink:"Invitation Link",lastname:"Lastname",position:"Position",revocationTimestamp:"Revocation Timestamp",revocationType:"Revocation Type",revoke:"Revoke",role:"Role",username:"Username",wipeData:"Wipe Data"},filterButtonLabel:{search:"Search",clear:"Clear"},labelInputApiKey:"Keycloak API Key",labelInputOlvidServerUrl:"Olvid Message Distribution Server",labelInputServerUrl:"Public Keycloak URL (Public DNS)",labelFilter:"Filter",leftMenuSubtitle:{realmsConfig:"Realms Configuration",eventLogs:"Event Logs",users:"Olvid Users",revocation:"Revocation Log",settings:"Security Settings",groups:"Groups"},logTableHeader:{logId:"Log Id",adminUsername:"Username",timestamp:"Timestamp",logType:"Log Type",parameter:"Details",ipSource:"Ip Address"},paragraphModalChangesHaveBeenDone:{text:"Warning: making changes to these settings may impact Olvid users. They may have to reconfigure their Identity Provider inside Olvid. Proceed with caution!",titleList:"List of changes: "},paragraphModalwipeUserRevokedData:"You are about to delete all the personal data from this revoked user entry. This action is irreversible.",piechartLabel:{withOlvidId:"With Olvid ID",withoutOlvidId:"Without Olvid ID"},placeholderFilter:"Filter",placeholderInputApiKey:"Enter API Key",placeholderInputUrl:"Enter URL",placeholderUserListFilter:"Type to Search",radioOptionsUserList:{withOlvidId:"With Olvid Id",withoutOlvidId:"Without Olvid Id",both:"Both"},realmSaveManagement:{changes:{item:"Item",before:"Before",after:"After",itemsLabel:{keycloakApiKey:"Keycloak API Key",keySelected:"Key Selected",olvidClient:"Olvid Client",olvidMessageDistributionServer:"Olvid Message Distribution Server",publicKeycloakUrl:"Public Keycloak URL",realmStatus:"Realms Status",revocationAllowed:"Revocation Allowed",enablePrometheusMetrics:"Enable Prometheus Metrics"},itemsValue:{keySelectedNoKey:"No Key",olvidClientNoClient:"No Client",realmStatusAdmin:"Admin",realmStatusNoStatus:"No Status",realmStatusOlvid:"Olvid"}},informationMissing:{modal:{both:"client and a key",client:"client",key:"key"},both:"Client and Key values are missing",client:"Client value is missing",key:"Key value is missing"}},rejectMessageAuthentificationVerification:"Return from authentication Discovery is not defined: main.js/authenticationVerification()",removingConfirmation:{title:"Removing confirmation",question:"Do you really want to remove users from this realm?",buttonOkLabel:"Yes",buttonCancelLabel:"No"},revoke:{modalText:{part1:"By doing this, you are going to revoke ",part2:", with ",part3:" type selected."},note:{part1:"Note:",part2:"You cannot revoke an Olvid ID if this user does not have an Olvid ID registered on Keycloak."},revoke:"Revoke ",revokeIdentityKey:"revokeIdentity",revokeIdentityLabel:"Revoke Olvid ID",revokeIdentityText:{part1:"Select this when the Olvid ID of a user ",part2:"was (or may have been) compromised",part3:". This user will be blocked for all other Olvid users of this directory. They will need to generate a new Olvid ID and register it with Keycloak."},remove:"Remove",removeUserKey:"removeUser",removeUserLabel:"Remove User",removeUserText:{part1:"Select this when a user ",part2:"left the company",part3:". This will unregister their API Key and remove them from the directory. The user will still be able to use Olvid as a free user, but will no longer be able to sign in with Keycloak."},signOutKey:"signOut",signOutLabel:"Sign Out",signOutText:{part1:" Select this when, for example, a user's ",part2:"username was changed",part3:". It will force the user to re-authenticate with Keycloak."}},roleArray:["admin","editor","viewer","none"],role:{admin:"admin",editor:"editor",viewer:"viewer",none:"none"},roleExplanationsCardPageAdmin:{admin:"can perform any operation in the console (exactly as keycloak administrators). Admins are the only ones who can modify the Olvid plugin configuration and change the role of other console users.",editor:"read only access to console administration realms, full access to Olvid users realms. Editors can revoke Olvid users.",viewer:"no access to console administration realms, read only access to Olvid users realms.",none:"no access to the console."},roleString:"role",tableEmptyText:"No record matches your request",titleCardPageAdmin:"Roles explanation:",titleItemConfigLink:"Configuration Link:",titleItemNbUsers:"Number of Users:",titleModalAreYouSure:"Are you sure?",titleAdminCreationModal:"Admin creating from",titlePageAuthentication:"Authentication in progress…",titlePageDashboard:"Dashboard",titlePageEventLogs:"Event Logs",titlePageGroupManagement:"Groups Management",titlePageRealms:"Olvid Admin. Console",titlePageRevocation:"Revocation Log",titlePageSecuritySettings:"Security Settings",titlePageUserList:"User List",toastDanger:{title:"Error!",text:"Conflict detected."},toastDataWipe:{title:"Done!",text:"Data have been deleted."},toastRevocationDone:{title:"Done!",text:"Revocation was successful."},toastSaveSuccess:{title:"Success!",text:"Your changes have been saved."},toastSaveWarningIncomplete:{title:"Warning!",text:{part1:"Changes cannot be saved. You have to select a ",part2:" for every Olvid users realm."}},toastSignOutDone:{title:"Done!",textSingular:"User has been signed out.",textPlural:"Users have been signed out."},tooltipCantChangeYourRole:"You cannot change your own role.",tooltipCannotModifyRealmAdmin:"You cannot unset the admin realm you are logged in.",tooltipCheckOlvid:"Check Olvid users checkbox to enable it.",tooltipRealmItems:{inputApiKey:"Enter the Keycloak API Key that was provided to you by the Olvid team.",inputOlvidServerUrl:"Enter the URL of the Olvid message distribution server. This should normally be: https://server.olvid.io",inputServerUrl:"If you connect to this Keycloak server using an internal URL/DNS, enter the public DNS that can be used to access this server from the users' devices. This should be something like: https://mykeycloakdns.company.com",realmAdminOrOlvid:"Each Keycloak realm can be configured to be either an 'Admin' realm or an 'Olvid users' realm. There can only be one Admin realm, used to authenticate the users that are allowed to connect to this Olvid Administration console. There can be several Olvid users realms, each of them used to authenticate an independent group of users of the Olvid application.",revocationAllowed:"Check this box to allow Olvid users to replace the Olvid ID they registered on Keycloak by themself. For security reasons, it is usually better to leave this un-checked.",selectAClient:"A Keycloak client corresponds to a way of authenticating a user in a Keycloak realm. Please select the client you configured for your Olvid users to sign in.",selectAKey:"Select the key that will be used by Keycloak to sign your Olvid users' IDs and sign the revocations. We recommend using an Elliptic Curve key (EC family)."},tooltipNoClienthasBeenFound:"No client has been found, please create a client from the Keycloak administration console.",tooltipEnablePrometheusMetrics:"You may retrieve usage metrics from your olvid users in Prometheus format at this url",topBannerRealmPart:{realm:"Realm: ",notlogged:"Not logged in"},typeRealms:{admin:"Admin",olvid:"Olvid users"},user:"user",users:"users",welcomeText:"Welcome to your Olvid Administration Console!",wipe:"Wipe",withOlvidId:"with Olvid ID"},Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-dropdown",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-light",value:{title:e.storeState.dictionary.tooltipCantChangeYourRole,disabled:!e.dropdownDisabled},expression:"{\n                  title:storeState.dictionary.tooltipCantChangeYourRole,\n                  disabled:!dropdownDisabled\n                }",modifiers:{hover:!0,"v-light":!0}}],staticClass:"m-md-2",attrs:{disabled:e.dropdownDisabled,size:"sm",text:e.dropdownLabel,variant:e.dropdownVariant,right:""}},e._l(e.storeState.dictionary.roleArray,(function(t){return a("span",{key:t},[a("b-dropdown-item",{on:{click:function(a){return e.onDropdownItemClickFunction(e.username,t)}}},[e._v(" "+e._s(t)+" "),a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e.userRole===t,expression:"userRole===role"}],staticClass:"checkicon",attrs:{icon:"check"}})],1),a("b-dropdown-divider",{directives:[{name:"show",rawName:"v-show",value:e.storeState.dictionary.roleArray.indexOf(t)!==e.storeState.dictionary.roleArray.length-1,expression:"storeState.dictionary.roleArray.indexOf(role)!==(storeState.dictionary.roleArray.length-1)"}]})],1)})),0)],1)},Ke=[],ze={name:"DropdownAdminsListPage",props:{dropdownDisabled:Boolean,dropdownLabel:String,dropdownVariant:String,userRole:String,username:String,onDropdownItemClickFunction:Function},data:function(){return{storeState:Dt.state}}},Fe=ze,$e=(a("4114"),Object(g["a"])(Fe,Ee,Ke,!1,null,"66e5904e",null)),He=$e.exports,We={selectedUsers:[],adminsList:{},writeAllowed:!1,realmAsked:"",roles:[{value:"",text:Be.createAdminForm.roles.defaultChoice},Be.createAdminForm.roles.admin,Be.createAdminForm.roles.editor,Be.createAdminForm.roles.viewer,Be.createAdminForm.roles.none],adminCreated:{email:"",username:"",firstname:"",lastname:"",role:""},password:"",successfulSending:null,creatingError:!1,smtpError:!1},Ve={name:"PageAdminList",components:{PagePermissionDenied:D,DropdownAdminsListPage:He,Spinner:S,AlertBadRealmType:q,NavbarPageTitle:R},data:function(){return{storeState:Dt.state,localStore:We,items:[],noChangesHaveBeenDone:!0,originalAdminsList:{},dropdownLabelBottom:Dt.state.dictionary.roleString,headCheckbox:!1,fields:[{key:"firstname",label:Dt.state.dictionary.fieldTable.firstname,thClass:"align-middle"},{key:"lastname",label:Dt.state.dictionary.fieldTable.lastname,thClass:"align-middle"},{key:"username",label:Dt.state.dictionary.fieldTable.username,thClass:"align-middle"},{key:"email",label:Dt.state.dictionary.fieldTable.email,thClass:"align-middle"},{key:"selectRole",label:Dt.state.dictionary.fieldTable.role,thStyle:{width:"125px"},thClass:"align-middle"}]}},methods:{isThereAnyChanges:function(){this.noChangesHaveBeenDone=JSON.stringify(We.adminsList)===JSON.stringify(this.originalAdminsList),Dt.state.dontLeave=!this.noChangesHaveBeenDone},headCheckboxHandler:function(){if(We.selectedUsers=[],this.headCheckbox)for(var e=0;e<this.items.length;e++)this.items[e].username===Dt.state.authenticationInfo.username&&this.storeState.realmAsked===this.storeState.authenticationInfo.realm||We.selectedUsers.push(this.items[e].username)},makeToast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;this.$bvToast.toast(a,{title:o,variant:e,toaster:"b-toaster-top-center",autoHideDelay:t,solid:!0})},setDropdownLabel:function(e,t){if(null!=e)this.$set(We.adminsList[e],"role",t);else{this.dropdownLabelBottom=t;for(var a=0;a<We.selectedUsers.length;a++)this.$set(We.adminsList[We.selectedUsers[a]],"role",t)}this.isThereAnyChanges()},initializationTable:function(){We.selectedUsers=[],this.headCheckbox=!1,We.writeAllowed&&this.fields.unshift({key:"selectCheckbox",label:"",thStyle:{width:"30px"},thClass:"align-middle"}),this.items=Object.values(We.adminsList),this.originalAdminsList=JSON.parse(JSON.stringify(We.adminsList)),this.isThereAnyChanges()},manageRequestResult:function(e){"undefined"!==typeof e&&(We.adminsList=e.adminUsersList,We.writeAllowed=e.writeAllowed,this.initializationTable())},launchSaveRequest:function(){var e=this;Dt.state.loading=!0,h.setAdminsRoleRequest(We.realmAsked,We.adminsList).then((function(t){e.manageRequestResult(t),e.makeToast("success",4e3,Dt.state.dictionary.toastSaveSuccess.text,Dt.state.dictionary.toastSaveSuccess.title),Dt.state.loading=!1})).catch((function(t){console.log(t),e.makeToast("danger",4e3,Dt.state.dictionary.toastDanger.text,Dt.state.dictionary.toastDanger.title),Dt.state.loading=!1}))},launchAdminsListRequest:function(){var e=this;Dt.state.loading=!0,h.getAdminsListRequest(We.realmAsked).then((function(t){e.manageRequestResult(t),Dt.state.loading=!1})).catch((function(e){console.log(e),Dt.state.loading=!1}))},createAdminUser:function(){var e=this,t={email:We.adminCreated.email,username:We.adminCreated.username,firstname:We.adminCreated.firstname,lastname:We.adminCreated.lastname,role:We.adminCreated.role};We.creatingError=!1,We.successfulSending=null,h.createAdminUser(JSON.stringify(t)).then((function(a){We.creatingError=void 0!==Object(u["a"])(a.error)&&3===a.error,We.password=a.password,We.smtpError=a.smtpError,We.creatingError||(o["default"].set(We.adminsList,t.username,t),e.initializationTable(),e.$refs["creationModal"].hide(),e.showModal("creationSuccess"))})).catch((function(e){console.log(e)}))},removeAdmins:function(){var e=this;Dt.state.loading=!0,h.removeAdmins(JSON.stringify(We.selectedUsers)).then((function(t){Dt.state.loading=!1,e.manageRequestResult(t)})).catch((function(e){console.log(e),Dt.state.loading=!1})),this.closeModal()},showModal:function(e){this.$refs[e].show()},sendPasswordEmail:function(){Dt.state.loading=!0,h.sendPasswordEmail(We.password,We.adminCreated.username).then((function(e){Dt.state.loading=!1,We.successfulSending=!(void 0!==Object(u["a"])(e)&&1===e.error)})).catch((function(e){console.log(e),Dt.state.loading=!1}))},closeModal:function(){this.$refs["creationModal"].hide(),this.$refs["creationSuccess"].hide(),this.$refs["removingConfirmation"].hide(),We.creatingError=!1,We.adminCreated={email:"",username:"",firstname:"",lastname:"",role:""}}},beforeMount:function(){We.realmAsked=this.$route.params.realmName,this.launchAdminsListRequest()}},Je=Ve,Ge=(a("f8ca"),Object(g["a"])(Je,Ue,qe,!1,null,"dd1a05a0",null)),Ye=Ge.exports;o["default"].config.productionTip=!1,o["default"].use(c["a"]);var Xe=new c["a"]({mode:"hash"});Xe.addRoutes([{path:"/:realmName/admin",name:":realmName",component:Ye},{path:"/:realmName/dashboard",name:":realmName",component:Ne},{path:"/:realmName/users",name:":realmName",component:Te},{path:"/:realmName/revocation",name:":realmName",component:we},{path:"/:realmName/settings",name:":realmName",component:fe},{path:"/:realmName/groups",name:":realmName",component:le},{path:"/",name:"root",component:ae},{path:"/realmsConfiguration",component:Y},{path:"/eventLogs",component:F}]),Xe.beforeEach((function(e,t,a){"/realmsConfiguration"===t.path&&Dt.state.dontLeave||t.path.match(/^\/.*\/admin$/)&&Dt.state.dontLeave?confirm("Do you really want to leave?")?a():a(!1):a()}));var Qe=Xe,Ze={name:"LeftMenu",data:function(){return{storeState:Dt.state,className:[]}},methods:{highlightActiveItem:function(){for(var e in this.className)o["default"].set(this.className,e,"");o["default"].set(this.className,decodeURI(this.$route.path),"active")},changeRoute:function(e,t){var a="";switch(t){case 0:a="";break;case 1:a=e+"/admin";break;case 2:a=e+"/dashboard";break;case 3:a=e+"/users";break;case 4:a=e+"/revocation";break;case 5:a=e+"/settings";break;case 6:a=e+"/groups";break;case 7:a="realmsConfiguration";break;case 8:a="eventLogs";break}this.currentRoute!==a&&(this.currentRoute=a,Qe.push("/".concat(a)))}},computed:{realmMainData:function(){return this.storeState.realmMainData}},watch:{$route:function(){this.highlightActiveItem()},realmMainData:function(){this.highlightActiveItem()}}},et=Ze,tt=(a("834b"),Object(g["a"])(et,s,l,!1,null,"4d832b31",null)),at=tt.exports,ot=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("b-navbar",{attrs:{fixed:"top",sticky:"",id:"topBanner",type:"dark"}},[o("div",{staticClass:"navbar-nav mr-auto"},[o("ButtonBurger",{attrs:{id:"burgerbutton"}}),e.storeState.authenticationInfo.realm&&"master"===e.storeState.authenticationInfo.realm?o("span",{attrs:{id:"realmpart"}},[o("strong",[e._v(e._s(e.storeState.dictionary.topBannerRealmPart.realm))]),o("span",[e._v(e._s(e.storeState.authenticationInfo.realm.substring(0,15)))]),o("span",{directives:[{name:"show",rawName:"v-show",value:e.storeState.authenticationInfo.realm.length>16,expression:"storeState.authenticationInfo.realm.length>16"}]},[e._v("…")])]):e.storeState.authenticationInfo.realm?e._e():o("span",{staticStyle:{"margin-left":"25px"}},[e._v(" "+e._s(e.storeState.dictionary.topBannerRealmPart.notlogged)+" ")])],1),o("div",{staticClass:"mx-auto order-0"}),o("b-navbar-nav",{staticClass:"ml-auto"},[o("span",[o("span",{directives:[{name:"show",rawName:"v-show",value:e.storeState.authenticationInfo.username,expression:"storeState.authenticationInfo.username"}],staticStyle:{"margin-left":"15px"}},[o("b-dropdown",{attrs:{variant:"outline-primary",size:"sm",right:""}},[o("template",{slot:"button-content"},[o("span",{staticClass:"whitecontent"},[o("font-awesome-icon",{staticClass:"whiteicon",attrs:{icon:"user"}}),o("span",{attrs:{id:"bigScreenShowUsernameInDropdown"}},[e._v(" "+e._s(e.storeState.authenticationInfo.username.substring(0,15))+" "),o("span",{directives:[{name:"show",rawName:"v-show",value:e.storeState.authenticationInfo.username.length>16,expression:"storeState.authenticationInfo.username.length>16"}]},[e._v("…")])])],1)]),o("span",{attrs:{id:"smallScreenShowUsernameInDropdownHeader"}},[o("b-dropdown-header",[o("font-awesome-icon",{staticStyle:{"margin-right":"6px"},attrs:{icon:"user"}}),e._v(" "+e._s(e.storeState.authenticationInfo.username)+" ")],1),o("b-dropdown-divider")],1),o("b-dropdown-item",{on:{click:e.launchRedirectToAccount}},[o("font-awesome-icon",{staticClass:"profilicon",attrs:{icon:"user-circle"}}),e._v(" "+e._s(e.storeState.dictionary.dropdownItemTopBannerProfile.account)+" ")],1),o("b-dropdown-divider"),o("b-dropdown-item",{on:{click:e.signOut}},[o("font-awesome-icon",{staticClass:"profilicon",attrs:{icon:"sign-out-alt"}}),e._v(" "+e._s(e.storeState.dictionary.dropdownItemTopBannerProfile.signout)+" ")],1)],2)],1),o("span",{directives:[{name:"show",rawName:"v-show",value:e.storeState.authenticationInfo.email,expression:"storeState.authenticationInfo.email"}],staticStyle:{"margin-left":"10px"}},[o("b-dropdown",{attrs:{id:"smallScreenShowEmailInDropdownHeader",size:"sm",right:"","no-caret":"",variant:"outline-primary"}},[o("template",{slot:"button-content"},[o("font-awesome-icon",{staticClass:"whiteicon",attrs:{icon:"envelope"}})],1),o("b-dropdown-header",["undefined"!==typeof e.storeState.authenticationInfo.email?o("span",[o("font-awesome-icon",{staticStyle:{"margin-right":"6px"},attrs:{icon:"envelope"}}),o("a",{attrs:{href:"mailto:"+e.storeState.authenticationInfo.email,id:"mailto1"}},[e._v(" "+e._s(e.storeState.authenticationInfo.email.substring(0,15))+" ")]),o("span",{directives:[{name:"show",rawName:"v-show",value:e.storeState.authenticationInfo.email.length>16,expression:"storeState.authenticationInfo.email.length>16"}]},[e._v("…")])],1):e._e()])],2),o("span",{attrs:{id:"bigScreenShowEmailInDropdown"}},[o("font-awesome-icon",{staticClass:"whiteicon",attrs:{icon:"envelope"}}),"undefined"!==typeof e.storeState.authenticationInfo.email?o("span",{staticClass:"emailpart"},[o("a",{attrs:{href:"mailto:"+e.storeState.authenticationInfo.email,id:"mailto2"}},[e._v(" "+e._s(e.storeState.authenticationInfo.email.substring(0,15))+" ")]),o("span",{directives:[{name:"show",rawName:"v-show",value:e.storeState.authenticationInfo.email.length>16,expression:"storeState.authenticationInfo.email.length>16"}]},[e._v("…")])]):e._e()],1)],1),o("img",{attrs:{id:"logoolvid",src:a("0421"),alt:"",width:"40",height:"40"}})])])],1)],1)},it=[],nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"burgerButton"}},[a("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-backdrop",modifiers:{"sidebar-backdrop":!0}}],attrs:{id:"burgerSymbol"}},[a("font-awesome-icon",{attrs:{icon:"bars","aria-hidden":"true"}})],1),a("b-sidebar",{attrs:{id:"sidebar-backdrop",title:"Realm Settings","no-header":"",backdrop:"",shadow:""},scopedSlots:e._u([{key:"footer",fn:function(t){var o=t.hide;return[a("div",{staticClass:"d-flex align-items-center px-3 py-2"},[a("b-button",{attrs:{size:"sm",block:""},on:{click:o}},[e._v("Close")])],1)]}}])},[a("LeftMenu",{staticStyle:{"z-index":"20",position:"absolute"}})],1)],1)},rt=[],st={name:"ButtonBurger",components:{LeftMenu:at},data:function(){return{storeState:Dt.state}}},lt=st,ct=(a("daf4"),Object(g["a"])(lt,nt,rt,!1,null,"23e9f6d8",null)),dt=ct.exports,mt={name:"TopBanner.vue",components:{ButtonBurger:dt},data:function(){return{storeState:Dt.state,screenWidth:window.innerWidth}},methods:{resizeHandler:function(){this.screenWidth=window.innerWidth},signOut:function(){h.signOut().catch((function(e){console.log(e)}))},launchRedirectToAccount:function(){"master"!==Dt.state.authenticationInfo.realm?window.location.href="/auth/realms/"+Dt.state.authenticationInfo.redirectRealm+"/account/#":"master"===Dt.state.authenticationInfo.realm&&(window.location.href="/auth/admin/master/console/#/realms")}}},ut=mt,ht=(a("9b0cf"),Object(g["a"])(ut,ot,it,!1,null,"4bae2823",null)),ft=ht.exports,vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(e._s(e.storeState.dictionary.titlePageAuthentication))])},pt=[],bt={name:"PageAuthenticationInProgress",data:function(){return{storeState:Dt.state}},beforeMount:function(){h.authenticationVerification().then((function(e){Dt.state.authenticationInfo.redirectRealm=e.realm,"master"===e.realm?(Dt.state.authenticationInfo=Object.assign(Dt.state.authenticationInfo,e),Dt.state.authenticationInfo.redirectRealm=e.realm,Dt.state.authentication=!1):h.authenticationVerification(e.realm).then((function(e){0===Object.keys(e).length?(Dt.state.authentication=!1,window.location.href="/auth/realms/"+Dt.state.authenticationInfo.redirectRealm+"/account/#/olvid-console"):(Dt.state.authenticationInfo=Object.assign(Dt.state.authenticationInfo,e),Dt.state.authenticationInfo.redirectRealm=e.realm,Dt.state.authentication=!1)}))})).then((function(){h.getRealmsMainAttributesRequest().then((function(e){o["default"].set(Dt.state,"realmMainData",e)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}},gt=bt,yt=Object(g["a"])(gt,vt,pt,!1,null,"47564161",null),St=yt.exports,wt={name:"App",components:{LeftMenu:at,TopBanner:ft,PageAuthenticationInProgress:St},metaInfo:{title:"Olvid Admin Console"},data:function(){return{store:Dt,screenWidth:window.innerWidth}},methods:{resizeHandler:function(){this.screenWidth=window.innerWidth},beforeUnloadHandler:function(e){Dt.state.dontLeave&&(e.preventDefault(),e.returnValue="")},removeEventListener:function(){window.removeEventListener("beforeunload",this.beforeUnloadHandler)}},created:function(){window.addEventListener("resize",this.resizeHandler),window.addEventListener("beforeunload",this.beforeUnloadHandler),window.addEventListener("unload",this.removeEventListener)},beforeMount:function(){Dt.state.authentication=!0},beforeDestroy:function(){this.removeEventListener()},destroyed:function(){window.removeEventListener("resize",this.resizeHandler)}},kt=wt,Ct=(a("034f"),Object(g["a"])(kt,n,r,!1,null,null,null)),It=Ct.exports,_t=a("ecee"),Rt=a("ad3d"),At=a("c074"),xt=a("58ca"),Tt=a("1fca"),Mt=a("b1e0");_t["c"].add(At["k"],At["g"],At["j"],At["b"],At["f"],At["c"],At["l"],At["e"],At["a"],At["d"],At["i"],At["m"],At["h"]),o["default"].component("font-awesome-icon",Rt["a"]),o["default"].use(xt["a"]),o["default"].use(i["a"]),o["default"].use(Mt["a"]);var Ot=c["a"].prototype.push;c["a"].prototype.push=function(e){return Ot.call(this,e).catch((function(e){return e}))},o["default"].use(c["a"]),o["default"].config.productionTip=!1;var Dt={state:{dictionary:Be,enablePrometheusMetrics:!1,limit:100,loading:!1,authenticationInfo:{realm:"",username:"",email:"",redirectRealm:""},realmMainData:{},authentication:!1,screenWidth:window.innerWidth,badRealmType:!1,permissionDenied:!1,dontLeave:!1}};o["default"].component("pie-chart",{extends:Tt["a"],props:["withOlvidId","withoutOlvidId"],data:function(){return{datacollection:{labels:[Dt.state.dictionary.piechartLabel.withOlvidId,Dt.state.dictionary.piechartLabel.withoutOlvidId],datasets:[{backgroundColor:["#2f65f5","#00bcd4"],data:[this.withOlvidId,this.withoutOlvidId]}]},options:{responsive:!0,legend:{display:!0,position:"right"}}}},mounted:function(){this.renderChart(this.datacollection,this.options)}}),new o["default"]({router:Qe,render:function(e){return e(It)}}).$mount("#app")},6119:function(e,t,a){"use strict";a("d5de")},"6ed4":function(e,t,a){},"6ff6":function(e,t,a){},7502:function(e,t,a){"use strict";a("c707")},"771a":function(e,t,a){},"834b":function(e,t,a){"use strict";a("6ed4")},"85ec":function(e,t,a){},"90c8":function(e,t,a){},"9b0cf":function(e,t,a){"use strict";a("47db")},b0a4:function(e,t,a){},b413:function(e,t,a){},c707:function(e,t,a){},d5de:function(e,t,a){},d657:function(e,t,a){},daf4:function(e,t,a){"use strict";a("1ab6")},de0a:function(e,t,a){"use strict";a("90c8")},f716:function(e,t,a){"use strict";a("771a")},f8a5:function(e,t,a){"use strict";a("6ff6")},f8ca:function(e,t,a){"use strict";a("b0a4")}});
//# sourceMappingURL=app.85ee3a70.js.map